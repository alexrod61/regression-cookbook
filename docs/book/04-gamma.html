<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>4&nbsp; Gamma Regression – The Regression Cookbook (in development)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../book/05-beta.html" rel="next">
<link href="../book/03-ols.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="../site_libs/quarto-diagram/mermaid.min.js"></script><script src="../site_libs/quarto-diagram/mermaid-init.js"></script><link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="../custom.css">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">The Regression Cookbook (in development)</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <a href="https://github.com/alexrod61/regression-cookbook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../book/continuous-zone.html">Continuous Cuisine</a></li><li class="breadcrumb-item"><a href="../book/04-gamma.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Gamma Regression</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../img/cookbook.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/meet-the-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Meet the Team</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/privacy-policy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Website Privacy Policy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/audience-scope.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audience and Scope</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Ready for Regression Cooking!</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/02-stats-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic Cuisine: A Review on Probability and Frequentist Statistical Inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../book/continuous-zone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Cuisine</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/03-ols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Ordinary Least-squares Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/04-gamma.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Gamma Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/05-beta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Beta Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/06-parametric-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Parametric Survival Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/07-semiparametric-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Semiparametric Survival Regression</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../book/discrete-zone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Cuisine</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/08-binary-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Binary Logistic Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/09-binomial-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Binomial Logistic Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/10-classical-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Classical Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/11-negative-binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Negative Binomial Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/12-zero-inflated-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Zero-Inflated Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/13-generalized-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Generalized Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/14-multinomial-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Multinomial Logistic Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/15-ordinal-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ordinal Logistic Regression</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/A-dictionary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">ML-Stats Dictionary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/B-greek-alphabet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Greek Alphabet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/C-distributional-mind-map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Distributional Mind Map</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/D-regression-mind-map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Regression Mind Map</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">The recipe</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">4.1</span> Introduction</a></li>
  <li><a href="#what-is-gamma-regression" id="toc-what-is-gamma-regression" class="nav-link" data-scroll-target="#what-is-gamma-regression"><span class="header-section-number">4.2</span> What is Gamma Regression</a></li>
  <li><a href="#understanding-the-gamma-distribution" id="toc-understanding-the-gamma-distribution" class="nav-link" data-scroll-target="#understanding-the-gamma-distribution"><span class="header-section-number">4.3</span> Understanding the Gamma Distribution</a></li>
  <li>
<a href="#how-gamma-regression-works" id="toc-how-gamma-regression-works" class="nav-link" data-scroll-target="#how-gamma-regression-works"><span class="header-section-number">4.4</span> How Gamma Regression Works</a>
  <ul>
<li>
<a href="#generalized-linear-models" id="toc-generalized-linear-models" class="nav-link" data-scroll-target="#generalized-linear-models"><span class="header-section-number">4.4.1</span> Generalized Linear Models</a>
  <ul class="collapse">
<li><a href="#problem-with-linear-regression-for-non-normal-data" id="toc-problem-with-linear-regression-for-non-normal-data" class="nav-link" data-scroll-target="#problem-with-linear-regression-for-non-normal-data">Problem with Linear Regression for Non-Normal Data</a></li>
  <li><a href="#what-glms-do-differently" id="toc-what-glms-do-differently" class="nav-link" data-scroll-target="#what-glms-do-differently">What GLMs Do Differently</a></li>
  <li><a href="#the-three-components-of-glm" id="toc-the-three-components-of-glm" class="nav-link" data-scroll-target="#the-three-components-of-glm">The Three Components of GLM</a></li>
  <li><a href="#gamma-regression-as-a-glm" id="toc-gamma-regression-as-a-glm" class="nav-link" data-scroll-target="#gamma-regression-as-a-glm">Gamma Regression as a GLM</a></li>
  </ul>
</li>
  </ul>
</li>
  <li><a href="#when-to-use-and-not-use-gamma-regression" id="toc-when-to-use-and-not-use-gamma-regression" class="nav-link" data-scroll-target="#when-to-use-and-not-use-gamma-regression"><span class="header-section-number">4.5</span> When to Use and Not Use Gamma Regression</a></li>
  <li>
<a href="#case-study-modeling-web-server-performance" id="toc-case-study-modeling-web-server-performance" class="nav-link" data-scroll-target="#case-study-modeling-web-server-performance"><span class="header-section-number">4.6</span> Case Study: Modeling Web Server Performance</a>
  <ul>
<li><a href="#the-dataset" id="toc-the-dataset" class="nav-link" data-scroll-target="#the-dataset"><span class="header-section-number">4.6.1</span> The Dataset</a></li>
  <li><a href="#the-problem-were-trying-to-solve" id="toc-the-problem-were-trying-to-solve" class="nav-link" data-scroll-target="#the-problem-were-trying-to-solve"><span class="header-section-number">4.6.2</span> The Problem We’re Trying to Solve</a></li>
  </ul>
</li>
  <li>
<a href="#study-design" id="toc-study-design" class="nav-link" data-scroll-target="#study-design"><span class="header-section-number">4.7</span> Study Design</a>
  <ul>
<li><a href="#inferential-vs.-predictive-analysis" id="toc-inferential-vs.-predictive-analysis" class="nav-link" data-scroll-target="#inferential-vs.-predictive-analysis"><span class="header-section-number">4.7.1</span> Inferential vs.&nbsp;Predictive Analysis</a></li>
  </ul>
</li>
  <li>
<a href="#data-collection-and-wrangling" id="toc-data-collection-and-wrangling" class="nav-link" data-scroll-target="#data-collection-and-wrangling"><span class="header-section-number">4.8</span> Data Collection and Wrangling</a>
  <ul>
<li><a href="#data-collection" id="toc-data-collection" class="nav-link" data-scroll-target="#data-collection"><span class="header-section-number">4.8.1</span> Data Collection</a></li>
  <li>
<a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling"><span class="header-section-number">4.8.2</span> Data Wrangling</a>
  <ul class="collapse">
<li><a href="#validating-the-response-variable" id="toc-validating-the-response-variable" class="nav-link" data-scroll-target="#validating-the-response-variable">1. Validating the Response Variable</a></li>
  <li><a href="#encoding-categorical-variables" id="toc-encoding-categorical-variables" class="nav-link" data-scroll-target="#encoding-categorical-variables">2. Encoding Categorical Variables</a></li>
  <li><a href="#checking-for-missing-values" id="toc-checking-for-missing-values" class="nav-link" data-scroll-target="#checking-for-missing-values">3. Checking for Missing Values</a></li>
  <li><a href="#examining-potential-outliers" id="toc-examining-potential-outliers" class="nav-link" data-scroll-target="#examining-potential-outliers">4. Examining Potential Outliers</a></li>
  <li><a href="#scaling-continuous-variables-optional" id="toc-scaling-continuous-variables-optional" class="nav-link" data-scroll-target="#scaling-continuous-variables-optional">5. Scaling Continuous Variables (Optional)</a></li>
  <li><a href="#a-note-on-data-splitting" id="toc-a-note-on-data-splitting" class="nav-link" data-scroll-target="#a-note-on-data-splitting">A Note on Data Splitting</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#exploratory-data-analysis-eda"><span class="header-section-number">4.9</span> Exploratory Data Analysis (EDA)</a>
  <ul>
<li><a href="#classifying-variables" id="toc-classifying-variables" class="nav-link" data-scroll-target="#classifying-variables"><span class="header-section-number">4.9.1</span> Classifying Variables</a></li>
  <li>
<a href="#visualizing-variable-distributions" id="toc-visualizing-variable-distributions" class="nav-link" data-scroll-target="#visualizing-variable-distributions"><span class="header-section-number">4.9.2</span> Visualizing Variable Distributions</a>
  <ul class="collapse">
<li><a href="#response-variable-response_time_ms" id="toc-response-variable-response_time_ms" class="nav-link" data-scroll-target="#response-variable-response_time_ms">Response Variable: <code>response_time_ms</code></a></li>
  <li><a href="#categorical-variables" id="toc-categorical-variables" class="nav-link" data-scroll-target="#categorical-variables">Categorical Variables</a></li>
  <li><a href="#numerical-variables" id="toc-numerical-variables" class="nav-link" data-scroll-target="#numerical-variables">Numerical Variables</a></li>
  </ul>
</li>
  <li>
<a href="#visualizing-predictor-relationships-to-response" id="toc-visualizing-predictor-relationships-to-response" class="nav-link" data-scroll-target="#visualizing-predictor-relationships-to-response"><span class="header-section-number">4.9.3</span> Visualizing Predictor Relationships to Response</a>
  <ul class="collapse">
<li><a href="#categorical-predictors-vs.-response" id="toc-categorical-predictors-vs.-response" class="nav-link" data-scroll-target="#categorical-predictors-vs.-response">Categorical Predictors vs.&nbsp;Response</a></li>
  <li><a href="#continuous-predictors-vs.-response" id="toc-continuous-predictors-vs.-response" class="nav-link" data-scroll-target="#continuous-predictors-vs.-response">Continuous Predictors vs.&nbsp;Response</a></li>
  </ul>
</li>
  <li><a href="#key-takeaways-from-eda" id="toc-key-takeaways-from-eda" class="nav-link" data-scroll-target="#key-takeaways-from-eda"><span class="header-section-number">4.9.4</span> Key Takeaways from EDA</a></li>
  </ul>
</li>
  <li>
<a href="#data-modeling" id="toc-data-modeling" class="nav-link" data-scroll-target="#data-modeling"><span class="header-section-number">4.10</span> Data Modeling</a>
  <ul>
<li><a href="#choosing-a-suitable-regression-model" id="toc-choosing-a-suitable-regression-model" class="nav-link" data-scroll-target="#choosing-a-suitable-regression-model"><span class="header-section-number">4.10.1</span> Choosing a Suitable Regression Model</a></li>
  <li><a href="#defining-modeling-parameters" id="toc-defining-modeling-parameters" class="nav-link" data-scroll-target="#defining-modeling-parameters"><span class="header-section-number">4.10.2</span> Defining Modeling Parameters</a></li>
  <li><a href="#setting-up-the-modeling-equation" id="toc-setting-up-the-modeling-equation" class="nav-link" data-scroll-target="#setting-up-the-modeling-equation"><span class="header-section-number">4.10.3</span> Setting Up the Modeling Equation</a></li>
  </ul>
</li>
  <li>
<a href="#estimation" id="toc-estimation" class="nav-link" data-scroll-target="#estimation"><span class="header-section-number">4.11</span> Estimation</a>
  <ul>
<li><a href="#fitting-the-model" id="toc-fitting-the-model" class="nav-link" data-scroll-target="#fitting-the-model"><span class="header-section-number">4.11.1</span> Fitting the Model</a></li>
  <li><a href="#interpreting-the-coefficients" id="toc-interpreting-the-coefficients" class="nav-link" data-scroll-target="#interpreting-the-coefficients"><span class="header-section-number">4.11.2</span> Interpreting the Coefficients</a></li>
  </ul>
</li>
  <li>
<a href="#goodness-of-fit" id="toc-goodness-of-fit" class="nav-link" data-scroll-target="#goodness-of-fit"><span class="header-section-number">4.12</span> Goodness of Fit</a>
  <ul>
<li><a href="#deviance-residuals-vs.-fitted-values" id="toc-deviance-residuals-vs.-fitted-values" class="nav-link" data-scroll-target="#deviance-residuals-vs.-fitted-values"><span class="header-section-number">4.12.1</span> Deviance Residuals vs.&nbsp;Fitted Values</a></li>
  <li>
<a href="#deviance-and-aic" id="toc-deviance-and-aic" class="nav-link" data-scroll-target="#deviance-and-aic"><span class="header-section-number">4.12.2</span> Deviance and AIC</a>
  <ul class="collapse">
<li><a href="#residual-deviance" id="toc-residual-deviance" class="nav-link" data-scroll-target="#residual-deviance">Residual Deviance</a></li>
  <li><a href="#aic-akaike-information-criterion" id="toc-aic-akaike-information-criterion" class="nav-link" data-scroll-target="#aic-akaike-information-criterion">AIC (Akaike Information Criterion)</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">4.13</span> Results</a>
  <ul>
<li><a href="#statistically-significant-predictors" id="toc-statistically-significant-predictors" class="nav-link" data-scroll-target="#statistically-significant-predictors"><span class="header-section-number">4.13.1</span> Statistically Significant Predictors</a></li>
  <li><a href="#non-significant-predictors" id="toc-non-significant-predictors" class="nav-link" data-scroll-target="#non-significant-predictors"><span class="header-section-number">4.13.2</span> Non-Significant Predictors</a></li>
  </ul>
</li>
  <li>
<a href="#storytelling" id="toc-storytelling" class="nav-link" data-scroll-target="#storytelling"><span class="header-section-number">4.14</span> Storytelling</a>
  <ul>
<li><a href="#key-insights-from-the-model" id="toc-key-insights-from-the-model" class="nav-link" data-scroll-target="#key-insights-from-the-model"><span class="header-section-number">4.14.1</span> Key Insights From the Model</a></li>
  </ul>
</li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">4.15</span> Conclusion</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/alexrod61/regression-cookbook/edit/main/book/04-gamma.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/alexrod61/regression-cookbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/alexrod61/regression-cookbook/blob/main/book/04-gamma.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../book/continuous-zone.html">Continuous Cuisine</a></li><li class="breadcrumb-item"><a href="../book/04-gamma.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Gamma Regression</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-gamma" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Gamma Regression</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><!-- Google tag (gtag.js) --><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7PRVEBE1EF"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7PRVEBE1EF');
</script><div id="fig-gamma-regression" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gamma-regression-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"></figure><p></p>
<div>
<pre class="mermaid mermaid-js">mindmap
  root((Regression 
  Analysis)
    Continuous &lt;br/&gt;Outcome Y
      {{Unbounded &lt;br/&gt;Outcome Y}}
        )Chapter 3: &lt;br/&gt;Ordinary &lt;br/&gt;Least Squares &lt;br/&gt;Regression(
          (Normal &lt;br/&gt;Outcome Y)
      {{Nonnegative &lt;br/&gt;Outcome Y}}
        )Chapter 4: &lt;br/&gt;Gamma Regression(
          (Gamma &lt;br/&gt;Outcome Y)
    Discrete &lt;br/&gt;Outcome Y
</pre>
</div>
<p></p>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gamma-regression-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: Regression analysis mind map depicting all modelling techniques explored so far in this book. Depending on the type of outcome <span class="math inline">\(Y\)</span>, these techniques are split into two large zones: <em>discrete</em> and <em>continuous</em>.
</figcaption></figure>
</div>
<div class="LO">
<div class="LO-header">
<p>Learning Objectives</p>
</div>
<div class="LO-container">
<p>By the end of this chapter, you will be able to:</p>
<ul>
<li>Explain what Gamma regression is and when it is appropriate to use</li>
<li>Recognize the types of problems suited for Gamma regression, especially those with positive, skewed outcomes</li>
<li>Describe the Gamma distribution and how its shape is influenced by its parameters</li>
<li>Understand the role of the link function, especially the log link, in Gamma regression</li>
<li>Set up a Gamma regression model using a log link and interpret its coefficients in the context of the original variables</li>
<li>Evaluate model fit using deviance residuals, spread patterns, and AIC</li>
</ul>
</div>
</div>
<section id="introduction" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">4.1</span> Introduction</h2>
<p>Some types of data are always positive and tend to have a few really large values. For example, imagine we are looking at how much people spend at a grocery store. Most people might spend a small to medium amount, but a few people might spend a lot more. This kind of data is not evenly spread out, and it does not look like a nice bell curve. Instead, it is skewed to the right, with a long tail of higher numbers.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/skewed-distribution-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>In these situations, the usual type of regression (called <a href="../book/03-ols.html">ordinary least squares, or OLS</a>) does not work very well. OLS assumes that the data is evenly spread out around the average and that big values and small values are equally likely. But when we have only positive numbers and some very big ones, we need a different approach.</p>
<p>This is where <strong>Gamma regression</strong> can help.</p>
</section><section id="what-is-gamma-regression" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="what-is-gamma-regression">
<span class="header-section-number">4.2</span> What is Gamma Regression</h2>
<p>Gamma regression is a tool we use when the outcome we are trying to predict is always positive and can vary a lot. For example, we might want to predict:</p>
<ul>
<li>how long it takes for someone to complete a task</li>
<li>how much money someone spends at a store</li>
<li>the cost of a medical procedure</li>
</ul>
<p>These types of outcomes are positive, continuous, and often right-skewed: most values are small or moderate, but a few can be extremely large. This uneven spread makes the data a poor fit for regular linear regression, which assumes that the outcomes are roughly symmetric and that the variability stays constant across all levels of the predictors.</p>
<p>Gamma regression is designed for situations like this. Instead of trying to fit a straight line with constant variance, it uses a model that:</p>
<ul>
<li>respects the fact that the outcome must be positive, and</li>
<li>allows the variance to grow with the mean, which matches how many real-world cost or duration variables behave.</li>
</ul></section><section id="understanding-the-gamma-distribution" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="understanding-the-gamma-distribution">
<span class="header-section-number">4.3</span> Understanding the Gamma Distribution</h2>
<p>Gamma regression is built on something called the <strong>Gamma distribution</strong>. This distribution is used to describe values that are:</p>
<ul>
<li>always above zero</li>
<li>and can have a long tail of larger values</li>
</ul>
<p>What makes the Gamma distribution flexible is a number called the <strong>shape</strong> parameter. This controls how the data is spread out.</p>
<ul>
<li>When the shape is small (like 1), the distribution is very skewed. Most values are small, but a few are much larger.</li>
<li>When the shape is larger (like 5 or 9), the curve becomes more balanced, though it still never includes negative numbers.</li>
</ul>
<p>Let’s look at what this means visually:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/gamma-distribution-3.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>The plot above shows how the shape parameter changes the look of the Gamma distribution. It helps explain why Gamma regression is such a good match for skewed data. In the frequentist paradigm, we aim to find the Gamma distribution with the shape parameter that best fits the observed data.</p>
</section><section id="how-gamma-regression-works" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="how-gamma-regression-works">
<span class="header-section-number">4.4</span> How Gamma Regression Works</h2>
<p>Now that we know what Gamma regression is and the kinds of problems it solves, let’s look at how it actually works.</p>
<blockquote class="blockquote">
<p>The key idea is that Gamma regression doesn’t model the outcome values directly. Instead, it focuses on the average outcome and relates it to predictors in a way that respects the positive, skewed nature of the data.</p>
</blockquote>
<p>To understand this, we need to take a step back and talk about a broader family of models called <strong>Generalized Linear Models</strong>, or <strong>GLMs</strong>. These are a flexible class of models that let us deal with many types of data, not just bell-shaped curves. GLMs allow us to model outcomes that are counts, proportions, or, as in our case, continuous and strictly positive. In this next section, we’ll break down what this means.</p>
<section id="generalized-linear-models" class="level3" data-number="4.4.1"><h3 data-number="4.4.1" class="anchored" data-anchor-id="generalized-linear-models">
<span class="header-section-number">4.4.1</span> Generalized Linear Models</h3>
<div id="Definition-sample" class="definition">
<div class="definition-header">
<p>Definition of Generalized Linear Models</p>
</div>
<div class="definition-container">
<p>Generalized Linear Models (GLMs) are a powerful extension of linear regression. They allow us to model a wide variety of response variables beyond just those that follow a normal distribution. This makes GLMs especially useful in real-world situations where data often breaks the assumptions of <a href="../book/03-ols.html">ordinary least squares (OLS) regression</a>.</p>
</div>
</div>
<p>Before we introduce the full GLM framework, let’s start with a simple example that shows why a standard linear model isn’t always appropriate. This will help motivate why we need a more general approach in the first place.</p>
<section id="problem-with-linear-regression-for-non-normal-data" class="level4"><h4 class="anchored" data-anchor-id="problem-with-linear-regression-for-non-normal-data">Problem with Linear Regression for Non-Normal Data</h4>
<p>Suppose we want to model the number of daily website visits for a company, based on the company’s advertising budget. This outcome is:</p>
<ul>
<li>always positive</li>
<li>right-skewed</li>
<li>and often grows rapidly with budget</li>
</ul>
<p>Let’s simulate this data:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Linear regression tries to fit a straight line through this data, but the result is clearly problematic.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-4-7.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>We run into several issues here:</p>
<ul>
<li>Predictions can be negative, which makes no sense for visit counts</li>
<li>Predictions do not capture the multiplicative or curved nature of the relationship</li>
<li>Variability grows with the mean, violating the constant variance assumption</li>
</ul>
<p>These problems stem from assumptions built into OLS:</p>
<ul>
<li>The outcome is normally distributed</li>
<li>The outcome has constant variance</li>
<li>The relationship between predictors and outcome is linear</li>
</ul>
<p>When those assumptions are broken, OLS can give misleading or invalid results.</p>
</section><section id="what-glms-do-differently" class="level4"><h4 class="anchored" data-anchor-id="what-glms-do-differently">What GLMs Do Differently</h4>
<p>Despite these problems, linear regression has a big strength: it’s interpretable. The formula tells us exactly how the outcome changes with the predictor. But wouldn’t it be great if we could retain this interpretability while also accounting for the data’s quirks? That’s what Generalized Linear Models do.</p>
<p>The original linear regression formula looks like this:</p>
<p><span class="math display">\[
\mu = \beta_0 + \beta_1 x
\]</span></p>
<p>As demonstrated above, this assumes <span class="math inline">\(\mu\)</span> (the expected outcome) can take any real value, including negatives, and grows in a straight-line fashion, which just doesn’t make much sense given the data.</p>
<p>Now, imagine we make one small change, apply a log transformation to the mean:</p>
<p><span class="math display">\[
\log(\mu) = \beta_0 + \beta_1 x
\]</span></p>
<p>This small adjustment makes a huge difference. Here’s how the fitted curve now looks with this small change:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-5-9.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>This new setup has several advantages:</p>
<ul>
<li>All predicted values of <span class="math inline">\(\mu\)</span> are strictly positive</li>
<li>The relationship between predictors and response is multiplicative, not additive</li>
<li>The variance increases with the mean, which reflects how real-world data often behaves</li>
<li>We still retain a straight-line interpretation, but now it’s on the log scale</li>
</ul>
<p>What you have just witnessed is an example of Generalized Linear Model. It is a flexible extension of linear regression that allows you to model outcomes in a way that reflects how they are actually distributed, while also preserving the ability to interpret coefficients like in linear regression</p>
</section><section id="the-three-components-of-glm" class="level4"><h4 class="anchored" data-anchor-id="the-three-components-of-glm">The Three Components of GLM</h4>
<p>Now that we have seen an example of a GLM, let’s properly introduce the components that make up a GLM. Every Generalized Linear Model (GLM) is built on the same three key components. This structure gives GLMs the flexibility to model many types of data while still being easy to interpret.</p>
<section id="random-component-distribution-of-the-response" class="level5"><h5 class="anchored" data-anchor-id="random-component-distribution-of-the-response"><strong>1. Random Component (Distribution of the Response)</strong></h5>
<p>This specifies how the response variable is distributed. In linear regression, the response is normally distributed. But GLMs allow for many other distributions, depending on what kind of data you are modeling.</p>
<table class="caption-top table">
<thead><tr class="header">
<th>Type of Data</th>
<th>Example Distribution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Continuous, symmetric</td>
<td>Normal</td>
</tr>
<tr class="even">
<td>Count</td>
<td>Poisson</td>
</tr>
<tr class="odd">
<td>Proportion or binary</td>
<td>Binomial</td>
</tr>
<tr class="even">
<td>Positive, skewed</td>
<td>Gamma</td>
</tr>
</tbody>
</table>
<p>This is where the flexibility of GLMs comes from. You choose a distribution that matches your outcome.</p>
</section><section id="systematic-component-linear-predictor" class="level5"><h5 class="anchored" data-anchor-id="systematic-component-linear-predictor"><strong>2. Systematic Component (Linear Predictor)</strong></h5>
<p>This is the familiar part from linear regression. It is a linear combination of the predictors:</p>
<p><span class="math display">\[
\begin{align*}
\eta &amp;= \beta_0 + \beta_1 x_{1} + \beta_2 x_{2} + \cdots + \beta_p x_{p}
\end{align*}
\]</span></p>
<p>This linear predictor, often denoted by <span class="math inline">\(\eta\)</span>, is the foundation of the model. The link function (coming next) will connect this to the mean of the response variable.</p>
</section><section id="link-function-connecting-predictors-to-the-mean" class="level5"><h5 class="anchored" data-anchor-id="link-function-connecting-predictors-to-the-mean"><strong>3. Link Function (Connecting Predictors to the Mean)</strong></h5>
<p>The link function transforms the expected value of the response variable so that it can be modeled as a linear combination of predictors.</p>
<p><span class="math display">\[
\begin{align*}
g(\mu) = \eta &amp;= \beta_0 + \beta_1 x_{1} + \beta_2 x_{2} + \cdots + \beta_p x_{p}
\end{align*}
\]</span></p>
<p>Different distributions tend to pair with different link functions:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 25%">
<col style="width: 59%">
</colgroup>
<thead><tr class="header">
<th>Distribution</th>
<th>Typical Link Function</th>
<th>Equation Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Normal</td>
<td>Identity</td>
<td><span class="math inline">\(\mu = \eta\)</span></td>
</tr>
<tr class="even">
<td>Binomial</td>
<td>Logit</td>
<td><span class="math inline">\(\log\left( \frac{\mu}{1 - \mu} \right) = \eta\)</span></td>
</tr>
<tr class="odd">
<td>Poisson</td>
<td>Log</td>
<td><span class="math inline">\(\log(\mu) = \eta\)</span></td>
</tr>
<tr class="even">
<td>Gamma</td>
<td>Log</td>
<td><span class="math inline">\(\log(\mu) = \eta\)</span></td>
</tr>
</tbody>
</table>
<p>The link function helps ensure that predictions stay within a valid range (e.g., probabilities stay between 0 and 1, counts stay positive, etc.).</p>
</section></section><section id="gamma-regression-as-a-glm" class="level4"><h4 class="anchored" data-anchor-id="gamma-regression-as-a-glm">Gamma Regression as a GLM</h4>
<p>Now that we’ve introduced the components of a GLM, we can see that Gamma regression is not a completely new type of model. Instead, it is one specific case within the broader GLM framework. What makes Gamma regression special is that it is designed for situations where the outcome:</p>
<ul>
<li>is strictly positive</li>
<li>tends to be right-skewed</li>
<li>and often shows larger variance when the mean is higher</li>
</ul>
<p>To make this concrete, let’s specify the three GLM components as they apply to Gamma regression:</p>
<section id="random-component-gamma" class="level5"><h5 class="anchored" data-anchor-id="random-component-gamma"><strong>1. Random Component (Gamma)</strong></h5>
<p>The response variable <span class="math inline">\(Y\)</span> is assumed to follow a Gamma distribution, which is continuous, strictly positive, and right-skewed. The variance of <span class="math inline">\(Y\)</span> increases with its mean, often expressed as: ​ <span class="math display">\[
\operatorname{Var}(Y_i) = \phi \mu_i^2
\]</span></p>
<p>This makes Gamma regression a good match for data where larger expected values come with more uncertainty.</p>
</section><section id="systematic-component-gamma" class="level5"><h5 class="anchored" data-anchor-id="systematic-component-gamma"><strong>2. Systematic Component (Gamma)</strong></h5>
<p>Just like in linear regression, the predictors are combined linearly:</p>
<p><span class="math display">\[
\eta_i = \beta_0 + \beta_1 x_{i1} + \beta_2 x_{i2} + \cdots + \beta_p x_{ip}
\]</span></p>
<p>This linear predictor <span class="math inline">\(\eta_i\)</span> serves as the backbone of the model.</p>
</section><section id="link-function-gamma" class="level5"><h5 class="anchored" data-anchor-id="link-function-gamma"><strong>3. Link Function (Gamma)</strong></h5>
<p>To connect the predictors to the expected outcome <span class="math inline">\(\mu_i = \mathbb{E}(Y_i)\)</span>, Gamma regression uses the log link:</p>
<p><span class="math display">\[
\log(\mu_i) = \eta_i = \beta_0 + \beta_1 x_{i1} + \cdots + \beta_p x_{ip}
\]</span></p>
<p>This ensures that:</p>
<ul>
<li>All predicted values of <span class="math inline">\(\mu_i\)</span> are strictly positive</li>
<li>The relationship between predictors and the mean is multiplicative, not additive</li>
<li>We can interpret coefficients on the log scale, preserving interpretability</li>
</ul>
<p>In other words, Gamma regression is just a GLM with a Gamma distribution and a log link. It does not model the outcome values directly. Instead, it focuses on the average outcome and relates it to predictors in a way that respects the positive, skewed nature of the data.</p>
</section></section></section></section><section id="when-to-use-and-not-use-gamma-regression" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="when-to-use-and-not-use-gamma-regression">
<span class="header-section-number">4.5</span> When to Use and Not Use Gamma Regression</h2>
<p>With the core ideas of Gamma regression in place, we can now summarize the practical guidelines: the situations where Gamma regression is most effective, and the situations where it is not recommended.</p>
<div class="Warning">
<div class="Warning-header">
<p>When to Use and Not Use Gamma Regression</p>
</div>
<div class="Warning-container">
<p>Gamma regression is powerful, but it isn’t a one-size-fits-all tool. It shines in some situations and breaks down in others. The checklist below can help you decide.</p>
<p>Use Gamma regression when:</p>
<ul>
<li>The outcome is continuous and strictly positive (e.g., insurance claim amounts, pollutant concentrations, operational spending).</li>
<li>Observations are statistically independent.</li>
<li>The distribution is right-skewed, where variance grows faster than the mean.</li>
<li>You want to model the logarithm of the mean as a link function, which guarantees positive predictions.</li>
</ul>
<p>Avoid Gamma regression when:</p>
<ul>
<li>The outcome includes zeros or negative values.</li>
<li>The outcome is a count variable. In that case, consider alternatives like <a href="https://alexrod61.github.io/regression-cookbook/book/10-classical-poisson.html">Classical Poisson</a>, <a href="https://alexrod61.github.io/regression-cookbook/book/11-negative-binomial.html">Negative Binomial</a>, <a href="https://alexrod61.github.io/regression-cookbook/book/12-zero-inflated-poisson.html">Zero-Inflated Poisson</a> or <a href="https://alexrod61.github.io/regression-cookbook/book/13-generalized-poisson.html">Generalized Poisson</a>.</li>
<li>The variance increases at a constant rate with the mean, rather than at a faster rate (a sign another GLM family may be more appropriate).</li>
</ul>
</div>
</div>
</section><section id="case-study-modeling-web-server-performance" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="case-study-modeling-web-server-performance">
<span class="header-section-number">4.6</span> Case Study: Modeling Web Server Performance</h2>
<p>To demonstrate Gamma regression in action, we will walk through a case study using a toy dataset. This case study will help us understand what affects the <em>response time of a web server</em>. Specifically, how long it takes (in milliseconds) for the server to respond to a user’s request.</p>
<p>We will approach this case study using the <a href="../book/01-intro.html">data science workflow</a> introduced in the first chapter. This ensures a structured approach to framing the problem, selecting a model, and building an interpretation based on the model’s results.</p>
<section id="the-dataset" class="level3" data-number="4.6.1"><h3 data-number="4.6.1" class="anchored" data-anchor-id="the-dataset">
<span class="header-section-number">4.6.1</span> The Dataset</h3>
<p>The toy dataset used to demonstrate captures various features of web requests across different servers and regions. Each row represents a single request and contains information about the server load, the number of users at the time, how complex the request was, and other related factors. Below is a summary of the variables:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<thead><tr class="header">
<th><strong>Variable Name</strong></th>
<th><strong>Description</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>response_time_ms</strong></td>
<td>The time it takes for the server to respond to a request (in milliseconds).</td>
</tr>
<tr class="even">
<td><strong>concurrent_users</strong></td>
<td>Number of users on the server at the time of the request.</td>
</tr>
<tr class="odd">
<td><strong>database_queries</strong></td>
<td>Number of database queries triggered by the request.</td>
</tr>
<tr class="even">
<td><strong>cache_hit_rate</strong></td>
<td>Percentage of data requests served from the cache (0 to 100).</td>
</tr>
<tr class="odd">
<td><strong>server_load</strong></td>
<td>Server CPU load at the time of the request (0 to 100).</td>
</tr>
<tr class="even">
<td><strong>time_of_day</strong></td>
<td>Hour of the day when the request was made (0 = midnight, 23 = 11 PM).</td>
</tr>
<tr class="odd">
<td><strong>day_of_week</strong></td>
<td>Day of the week (e.g., Monday, Tuesday).</td>
</tr>
<tr class="even">
<td><strong>geographic_region</strong></td>
<td>Geographic region where the request originated.</td>
</tr>
<tr class="odd">
<td><strong>request_complexity</strong></td>
<td>Categorical value describing request complexity: “Simple”, “Moderate”, or “Complex”.</td>
</tr>
<tr class="even">
<td><strong>cdn_usage</strong></td>
<td>Whether a content delivery network was used (“Yes” or “No”).</td>
</tr>
<tr class="odd">
<td><strong>memory_usage</strong></td>
<td>Memory used on the server at the time of request (in percent).</td>
</tr>
</tbody>
</table>
<p>Here’s a snapshot of the dataset:</p>
<div style="overflow-x: auto; white-space: nowrap;">
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 8%">
</colgroup>
<thead><tr class="header">
<th><strong>response_time_ms</strong></th>
<th><strong>concurrent_users</strong></th>
<th><strong>database_queries</strong></th>
<th><strong>cache_hit_rate</strong></th>
<th><strong>server_load</strong></th>
<th><strong>time_of_day</strong></th>
<th><strong>day_of_week</strong></th>
<th><strong>geographic_region</strong></th>
<th><strong>request_complexity</strong></th>
<th><strong>cdn_usage</strong></th>
<th><strong>memory_usage</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>54.2</td>
<td>40</td>
<td>10</td>
<td>94.8</td>
<td>61.4</td>
<td>8</td>
<td>Saturday</td>
<td>North_America</td>
<td>Moderate</td>
<td>Yes</td>
<td>63.6</td>
</tr>
<tr class="even">
<td>28.6</td>
<td>148</td>
<td>1</td>
<td>56.1</td>
<td>43.2</td>
<td>18</td>
<td>Thursday</td>
<td>North_America</td>
<td>Complex</td>
<td>Yes</td>
<td>25.5</td>
</tr>
<tr class="odd">
<td>50.2</td>
<td>195</td>
<td>14</td>
<td>94.6</td>
<td>67.0</td>
<td>1</td>
<td>Thursday</td>
<td>North_America</td>
<td>Complex</td>
<td>No</td>
<td>26.6</td>
</tr>
<tr class="even">
<td>24.8</td>
<td>82</td>
<td>10</td>
<td>77.9</td>
<td>83.9</td>
<td>14</td>
<td>Monday</td>
<td>Africa</td>
<td>Simple</td>
<td>Yes</td>
<td>67.5</td>
</tr>
<tr class="odd">
<td>127.1</td>
<td>85</td>
<td>10</td>
<td>58.7</td>
<td>47.1</td>
<td>7</td>
<td>Thursday</td>
<td>South_America</td>
<td>Moderate</td>
<td>Yes</td>
<td>54.4</td>
</tr>
</tbody>
</table>
</div>
<p>This dataset allows us to analyze performance differences in web servers under different conditions and determine what contributes to longer or shorter response times.</p>
</section><section id="the-problem-were-trying-to-solve" class="level3" data-number="4.6.2"><h3 data-number="4.6.2" class="anchored" data-anchor-id="the-problem-were-trying-to-solve">
<span class="header-section-number">4.6.2</span> The Problem We’re Trying to Solve</h3>
<p>In this case study, our goal is to analyze what drives differences in web server response times. Because response time is continuous, strictly positive, and often right-skewed, Gamma regression is a natural choice for modeling it.</p>
<p>The key question we aim to answer is:</p>
<blockquote class="blockquote">
<p><strong>Which server or request characteristics have the biggest influence on response time?</strong></p>
</blockquote>
<p>Answering this question requires more than just prediction. It requires understanding the relationships between server conditions, request features, and performance. In the next section, we’ll clarify our study design and show how Gamma regression supports this goal.</p>
</section></section><section id="study-design" class="level2" data-number="4.7"><h2 data-number="4.7" class="anchored" data-anchor-id="study-design">
<span class="header-section-number">4.7</span> Study Design</h2>
<p>In this case study, our goal is to understand what drives differences in web server response times. Because response time is continuous, strictly positive, and often right-skewed, Gamma regression is a natural modeling choice.</p>
<p>The broader objective is to uncover which server or request characteristics meaningfully influence response time. This requires more than simply forecasting future values. It requires understanding how different factors relate to average performance.</p>
<p>To make that purpose precise, we turn to the study design.</p>
<section id="inferential-vs.-predictive-analysis" class="level3" data-number="4.7.1"><h3 data-number="4.7.1" class="anchored" data-anchor-id="inferential-vs.-predictive-analysis">
<span class="header-section-number">4.7.1</span> Inferential vs.&nbsp;Predictive Analysis</h3>
<p>Following the data science workflow, our first step is to define the purpose of the analysis. As mentioned, our guiding question is:</p>
<blockquote class="blockquote">
<p>Which server or request characteristics have the biggest influence on response time?</p>
</blockquote>
<p>This question can be approached in two different ways, inferential or predictive, depending on what we want the analysis to achieve.</p>
<ul>
<li><p>Inferential analysis helps us understand and quantify how different variables affect the average outcome. For example: Does using a content delivery network (CDN) significantly reduce response time? How much slower are complex requests compared to simple ones?</p></li>
<li><p>Predictive analysis, by contrast, is about making accurate forecasts. For instance: Can we predict the response time of a future request based on its characteristics?</p></li>
</ul>
<p>Gamma regression can be used for either purpose, but our focus in this chapter is inferential, since our goal is to explain and quantify how different factors influence response time.</p>
<p>To that end, we will use Gamma regression to estimate how each feature affects the average response time while properly accounting for skewness in the outcome. This allows us to answer questions such as:</p>
<ul>
<li>How do concurrent users affect response time?</li>
<li>Does request complexity lead to slower responses?</li>
<li>What is the typical effect of CDN usage?</li>
<li>How are server load and memory usage related to delays?</li>
</ul>
<p>Our goal is not to build a black-box predictor, but to uncover which factors matter most and how they shape server performance, insights that can guide system tuning, policy decisions, and resource planning.</p>
</section></section><section id="data-collection-and-wrangling" class="level2" data-number="4.8"><h2 data-number="4.8" class="anchored" data-anchor-id="data-collection-and-wrangling">
<span class="header-section-number">4.8</span> Data Collection and Wrangling</h2>
<p>With our statistical question clearly defined, the next step is to make sure the data is suitable for analysis. Although we already have the dataset, it is useful to reflect on how this type of server performance data might have been collected. Understanding the data collection process helps us recognize potential limitations and prepare the data appropriately.</p>
<section id="data-collection" class="level3" data-number="4.8.1"><h3 data-number="4.8.1" class="anchored" data-anchor-id="data-collection">
<span class="header-section-number">4.8.1</span> Data Collection</h3>
<p>For a study like this, where we analyze server response times across different conditions, data could have been collected through several common methods:</p>
<ul>
<li><p><strong>Server Logs</strong>: Most web servers automatically record detailed logs of every request. These logs typically include information like timestamps, request types, response time, server load, and geographic origin. This is a likely source for our dataset and provides reliable, machine-recorded data.</p></li>
<li><p><strong>Monitoring Tools</strong>: Infrastructure monitoring platforms such as New Relic, Datadog, or AWS CloudWatch can capture performance metrics in real time. These tools often collect a richer set of metrics, including CPU usage, memory usage, and cache hit rates.</p></li>
<li><p><strong>Simulated Load Testing</strong>: In controlled environments, engineers may run scripted performance tests to evaluate how different types of requests behave under varying traffic loads. While simulated data offers consistency, it may not reflect real-world user behavior.</p></li>
</ul>
<p>Each data collection method has its own strengths and trade-offs:</p>
<ul>
<li>Server logs are objective but may lack high-level context (such as request complexity or user intent).</li>
<li>Monitoring tools are detailed but might involve sampling or missing values due to downtime.</li>
<li>Simulated tests offer control but may lack realism.</li>
</ul>
<p>Regardless of how the data was collected, it’s important to check for common issues such as:</p>
<ul>
<li>Missing values in fields like server load or memory usage<br>
</li>
<li>Incorrect or inconsistent formatting (e.g., “Yes” vs “yes” vs “TRUE”)<br>
</li>
<li>Outliers in response time that may skew the results<br>
</li>
<li>Categorical variables that need to be converted into a numerical format for modeling</li>
</ul>
<p>All of these issues will be addressed in the next stage, data wrangling.</p>
</section><section id="data-wrangling" class="level3" data-number="4.8.2"><h3 data-number="4.8.2" class="anchored" data-anchor-id="data-wrangling">
<span class="header-section-number">4.8.2</span> Data Wrangling</h3>
<p>Once the data has been collected, the next step is to prepare it for modeling. Even reliable sources like server logs or monitoring tools produce raw data that needs cleaning before it can be used effectively.</p>
<p>For Gamma regression, data wrangling typically involves:</p>
<ul>
<li>Validating the response variable to ensure all values are strictly positive and meaningful.</li>
<li>Transforming categorical variables (e.g., request complexity, geographic region) into numerical formats that the model can handle.</li>
<li>Checking for missing values or extreme outliers that could bias results.</li>
<li>Scaling or normalizing predictors if large differences in measurement units make interpretation difficult.</li>
</ul>
<p>Let’s walk through how to apply these steps to our dataset.</p>
<section id="validating-the-response-variable" class="level4"><h4 class="anchored" data-anchor-id="validating-the-response-variable">1. Validating the Response Variable</h4>
<p>Gamma regression assumes the outcome is strictly positive and continuous, making it a good fit for <code>response_time_ms</code>, which records how long the server takes to respond to a request.</p>
<p>Before fitting the model, we need to confirm that all values in <code>response_time_ms</code> are greater than zero:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gamma_server</span><span class="op">$</span><span class="va">response_time_ms</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.50   19.18   49.05   93.32  111.45 1561.00 </code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics for the response variable</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[<span class="st">"response_time_ms"</span>].describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    1000.000000
mean       93.320300
std       141.940277
min         0.500000
25%        19.175000
50%        49.050000
75%       111.450000
max      1561.000000
Name: response_time_ms, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for any non-positive values</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>((data[<span class="st">"response_time_ms"</span>] <span class="op">&lt;=</span> <span class="dv">0</span>).<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The summary confirms that all values are strictly positive, so <code>response_time_ms</code> is suitable for Gamma regression. If zeros or negative values had been present, we may need to remove them, add a small offset, or just opt for another regression technique.</p>
</section><section id="encoding-categorical-variables" class="level4"><h4 class="anchored" data-anchor-id="encoding-categorical-variables">2. Encoding Categorical Variables</h4>
<p>Like most regression and machine learning models, Gamma regression requires all inputs to be numeric. This means categorical variables must be converted into numerical form. In our dataset, this includes:</p>
<ul>
<li><code>day_of_week</code></li>
<li><code>geographic_region</code></li>
<li><code>request_complexity</code></li>
<li><code>cdn_usage</code></li>
</ul>
<p>The standard approach is <strong>one-hot encoding</strong>, where each category is represented by a new binary column (0 or 1). For example, the variable <code>request_complexity</code> with three categories (<code>Simple</code>, <code>Moderate</code>, <code>Complex</code>) would become:</p>
<ul>
<li><code>request_complexity_Simple</code></li>
<li><code>request_complexity_Moderate</code></li>
<li><code>request_complexity_Complex</code></li>
</ul>
<p>To avoid <strong>multicollinearity</strong> (perfect correlation among dummies), we drop one category from each group. The dropped category becomes the reference level that all other categories are compared against.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gamma_server_encoded</span> <span class="op">&lt;-</span> <span class="fu">fastDummies</span><span class="fu">::</span><span class="fu"><a href="https://jacobkap.github.io/fastDummies/reference/dummy_cols.html">dummy_cols</a></span><span class="op">(</span></span>
<span>  <span class="va">gamma_server</span>,</span>
<span>  select_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span>, <span class="st">"request_complexity"</span>, <span class="st">"cdn_usage"</span><span class="op">)</span>,</span>
<span>  remove_first_dummy <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_selected_columns <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print resulting column names  </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">gamma_server_encoded</span><span class="op">)</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "response_time_ms"                "concurrent_users"               
 [3] "database_queries"                "cache_hit_rate"                 
 [5] "server_load"                     "time_of_day"                    
 [7] "memory_usage"                    "day_of_week_Monday"             
 [9] "day_of_week_Saturday"            "day_of_week_Sunday"             
[11] "day_of_week_Thursday"            "day_of_week_Tuesday"            
[13] "day_of_week_Wednesday"           "geographic_region_Asia_Pacific" 
[15] "geographic_region_Europe"        "geographic_region_North_America"
[17] "geographic_region_South_America" "request_complexity_Moderate"    
[19] "request_complexity_Simple"       "cdn_usage_Yes"                  </code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform one-hot encoding, drop first level from each category</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="op">=</span> [<span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span>, <span class="st">"request_complexity"</span>, <span class="st">"cdn_usage"</span>]</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dummy variables, drop first category from each</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>data_encoded <span class="op">=</span> pd.get_dummies(data, columns<span class="op">=</span>categorical_vars, drop_first<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print resulting column names  </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_encoded.columns.tolist())  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['response_time_ms', 'concurrent_users', 'database_queries', 'cache_hit_rate', 'server_load', 'time_of_day', 'memory_usage', 'day_of_week_Monday', 'day_of_week_Saturday', 'day_of_week_Sunday', 'day_of_week_Thursday', 'day_of_week_Tuesday', 'day_of_week_Wednesday', 'geographic_region_Asia_Pacific', 'geographic_region_Europe', 'geographic_region_North_America', 'geographic_region_South_America', 'request_complexity_Moderate', 'request_complexity_Simple', 'cdn_usage_Yes']</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This step ensures that all features going into the Gamma regression model are numeric and suitable for estimation. It also allows us to interpret the effect of each category relative to the baseline, which is the dropped category from each group.</p>
<p>For example, the variable <code>request_complexity</code> originally had three categories: <code>Simple</code>, <code>Moderate</code>, and <code>Complex</code>. After encoding, the dataset contains two dummy variables:</p>
<ul>
<li><code>request_complexity_Simple</code></li>
<li><code>request_complexity_Moderate</code></li>
</ul>
<p>Here, <code>Complex</code> has been dropped and serves as the reference category. This means:</p>
<ul>
<li>The coefficient for <code>request_complexity_Simple</code> tells us how much faster or slower requests marked as <code>Simple</code> are compared to <code>Complex</code>.</li>
<li>The coefficient for <code>request_complexity_Moderate</code> tells us the difference between <code>Moderate</code> and <code>Complex</code>.</li>
</ul>
<p>This same logic applies to all other categorical variables: one level is chosen as the baseline, and all coefficients are interpreted relative to it.</p>
</section><section id="checking-for-missing-values" class="level4"><h4 class="anchored" data-anchor-id="checking-for-missing-values">3. Checking for Missing Values</h4>
<p>Before fitting a regression model, it’s important to confirm that the dataset has no gaps. Missing values can cause estimation errors or lead to dropped observations if not handled properly.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Count missing values in each column</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">gamma_server_encoded</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               response_time_ms                concurrent_users 
                              0                               0 
               database_queries                  cache_hit_rate 
                              0                               0 
                    server_load                     time_of_day 
                              0                               0 
                   memory_usage              day_of_week_Monday 
                              0                               0 
           day_of_week_Saturday              day_of_week_Sunday 
                              0                               0 
           day_of_week_Thursday             day_of_week_Tuesday 
                              0                               0 
          day_of_week_Wednesday  geographic_region_Asia_Pacific 
                              0                               0 
       geographic_region_Europe geographic_region_North_America 
                              0                               0 
geographic_region_South_America     request_complexity_Moderate 
                              0                               0 
      request_complexity_Simple                   cdn_usage_Yes 
                              0                               0 </code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count missing values in each column</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>data_encoded.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>response_time_ms                   0
concurrent_users                   0
database_queries                   0
cache_hit_rate                     0
server_load                        0
time_of_day                        0
memory_usage                       0
day_of_week_Monday                 0
day_of_week_Saturday               0
day_of_week_Sunday                 0
day_of_week_Thursday               0
day_of_week_Tuesday                0
day_of_week_Wednesday              0
geographic_region_Asia_Pacific     0
geographic_region_Europe           0
geographic_region_North_America    0
geographic_region_South_America    0
request_complexity_Moderate        0
request_complexity_Simple          0
cdn_usage_Yes                      0
dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If missing values were present, we would need to either:</p>
<ul>
<li>Remove rows with missing values (simple but may reduce sample size), or</li>
<li>Impute values using the mean, median, or another suitable method.</li>
</ul>
<p>In our toy dataset, all variables are complete, so no further action is needed here.</p>
</section><section id="examining-potential-outliers" class="level4"><h4 class="anchored" data-anchor-id="examining-potential-outliers">4. Examining Potential Outliers</h4>
<p>Outliers can distort regression results, so it’s always good practice to check the distribution of the response variable. In our case, we visualize <code>response_time_ms</code>:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server_encoded</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">response_time_ms</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span>, fill <span class="op">=</span> <span class="st">"steelblue"</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Distribution of Response Time"</span>, x <span class="op">=</span> <span class="st">"Response Time (ms)"</span>, y <span class="op">=</span> <span class="st">"Count"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of response time</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>sns.histplot(data_encoded[<span class="st">"response_time_ms"</span>], bins<span class="op">=</span><span class="dv">30</span>, color<span class="op">=</span><span class="st">"steelblue"</span>, edgecolor<span class="op">=</span><span class="st">"white"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Distribution of Response Time"</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Response Time (ms)"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>The histogram confirms that <code>response_time_ms</code> is right-skewed, which aligns with our expectations and supports the use of Gamma regression.</p>
<div class="Tip">
<div class="Tip-header">
<p>Skewed Data</p>
</div>
<div class="Tip-container">
<p>It’s important to note that with Gamma-distributed data, large values in the upper tail are often part of the natural variation, not necessarily outliers to be removed. Instead of trimming them away, we rely on a model like Gamma regression that is designed to accommodate this skewness.</p>
</div>
</div>
</section><section id="scaling-continuous-variables-optional" class="level4"><h4 class="anchored" data-anchor-id="scaling-continuous-variables-optional">5. Scaling Continuous Variables (Optional)</h4>
<p>Gamma regression does not require predictors to be on the same scale. However, scaling can sometimes help with model convergence and make coefficients easier to interpret, especially when predictors have very different ranges (for example, <code>concurrent_users</code> in the hundreds vs.&nbsp;<code>cache_hit_rate</code> as a percentage).</p>
<p>For this dataset, it may be helpful to standardize the following continuous variables:</p>
<ul>
<li><code>concurrent_users</code></li>
<li><code>database_queries</code></li>
<li><code>cache_hit_rate</code></li>
<li><code>server_load</code></li>
<li><code>memory_usage</code></li>
<li><code>time_of_day</code></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># gamma_server_encoded &lt;- gamma_server_encoded %&gt;%</span></span>
<span><span class="co">#   mutate(across(c(concurrent_users, database_queries, cache_hit_rate, server_load, memory_usage, time_of_day), scale))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.preprocessing import StandardScaler</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # List of columns to scale</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># scale_cols = ["concurrent_users", "database_queries", "cache_hit_rate", "server_load", "memory_usage", "time_of_day"]</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # Initialize scaler and apply to selected columns</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># scaler = StandardScaler()</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># data_encoded[scale_cols] = scaler.fit_transform(data_encoded[scale_cols])</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Standardizing doesn’t change the underlying fit of the Gamma regression, but it can make estimation numerically more stable and the coefficients easier to compare side by side.</p>
<p>After scaling, coefficients are interpreted differently: they now represent the effect of a one-standard-deviation increase in the predictor, rather than a one-unit increase.</p>
<div class="Tip">
<div class="Tip-header">
<p>Example of Interpretation After Scaling</p>
</div>
<div class="Tip-container">
<p>Without scaling, suppose the coefficient for <code>cache_hit_rate</code> (measured as a percentage from 0–100) is -0.01. This means that for every 1 percentage point increase in cache hit rate, the expected response time decreases slightly.</p>
<p>With scaling, suppose the coefficient for <code>cache_hit_rate</code> becomes -0.25. This means that a one-standard-deviation increase in cache hit rate (say, about 15 percentage points in this dataset) is associated with a 0.25 decrease (on the log scale) in expected response time.</p>
<p>This rescaling doesn’t change the underlying relationship. It just shifts the unit of interpretation from “1 raw unit” to “1 standard deviation,” which often makes cross-variable comparisons more meaningful.</p>
</div>
</div>
<p>For simplicity, we will not scale the variables in this case study, but it’s a useful option to keep in mind.</p>
</section><section id="a-note-on-data-splitting" class="level4"><h4 class="anchored" data-anchor-id="a-note-on-data-splitting">A Note on Data Splitting</h4>
<p>In many machine learning tasks, it is common to split the data into training and test sets. However, in this case study, we are not aiming to build a predictive model. Our goal is to understand how different server and request characteristics influence the average response time, which is an inferential task.</p>
<p>Because we are focused on interpreting the model rather than predicting new outcomes, we will use the entire dataset for model fitting. This allows us to make the best use of our data when estimating the effects of each variable.</p>
<p>If our goal were to build a model that predicts server response time for future requests, we would consider splitting the dataset and evaluating prediction accuracy on a holdout set.</p>
</section></section></section><section id="exploratory-data-analysis-eda" class="level2" data-number="4.9"><h2 data-number="4.9" class="anchored" data-anchor-id="exploratory-data-analysis-eda">
<span class="header-section-number">4.9</span> Exploratory Data Analysis (EDA)</h2>
<p>The data is now ready and cleaned, but before we begin modeling, it is essential to explore the dataset to understand the structure of the variables and how they relate to one another. This step, known as Exploratory Data Analysis (EDA), helps uncover patterns, identify potential issues such as skewness or outliers, and inform the modeling decisions that follow.</p>
<section id="classifying-variables" class="level3" data-number="4.9.1"><h3 data-number="4.9.1" class="anchored" data-anchor-id="classifying-variables">
<span class="header-section-number">4.9.1</span> Classifying Variables</h3>
<p>A good starting point in EDA is to classify the variables in our dataset, as this guides the choice of plots and informs how we will encode each variable when building the model.</p>
<p>Our response variable is:</p>
<ul>
<li>
<code>response_time_ms</code>: a continuous, strictly positive variable measuring how long a server takes to respond to a request. This is well-suited for Gamma regression.</li>
</ul>
<p>Our regressors fall into two groups:</p>
<ul>
<li>
<strong>Continuous variables</strong>:
<ul>
<li>
<code>concurrent_users</code>, <code>database_queries</code>, <code>cache_hit_rate</code>, <code>server_load</code>, <code>memory_usage</code>, <code>time_of_day</code>
</li>
</ul>
</li>
<li>
<strong>Categorical variables</strong>:
<ul>
<li>
<code>cdn_usage</code>, <code>request_complexity</code>, <code>day_of_week</code>, <code>geographic_region</code>
</li>
</ul>
</li>
</ul></section><section id="visualizing-variable-distributions" class="level3" data-number="4.9.2"><h3 data-number="4.9.2" class="anchored" data-anchor-id="visualizing-variable-distributions">
<span class="header-section-number">4.9.2</span> Visualizing Variable Distributions</h3>
<p>With the variables classified, we can now choose appropriate plots to explore their distributions and relationships.</p>
<section id="response-variable-response_time_ms" class="level4"><h4 class="anchored" data-anchor-id="response-variable-response_time_ms">Response Variable: <code>response_time_ms</code>
</h4>
<p>We begin by examining the distribution of the response variable.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server_encoded</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">response_time_ms</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">10</span>, fill <span class="op">=</span> <span class="st">"skyblue"</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Histogram of Response Time (ms)"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Response Time (ms)"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>sns.histplot(data_encoded[<span class="st">"response_time_ms"</span>], bins<span class="op">=</span><span class="dv">10</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Histogram of Response Time (ms)"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Response Time (ms)"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>The histogram confirms that <code>response_time_ms</code> is strictly positive and right-skewed—just as we saw during data wrangling when we checked for negative values and visualized potential outliers.</p>
</section><section id="categorical-variables" class="level4"><h4 class="anchored" data-anchor-id="categorical-variables">Categorical Variables</h4>
<p>We next examine how the categorical predictors are distributed. This visualization is based on the original dataset, before encoding. Visualizing these variables helps us check if any levels are underrepresented or imbalanced, which can affect model stability and interpretation.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">categorical_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cdn_usage"</span>, <span class="st">"request_complexity"</span>, <span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">var</span> <span class="kw">in</span> <span class="va">categorical_vars</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Distribution of"</span>, <span class="va">var</span><span class="op">)</span>,</span>
<span>      x <span class="op">=</span> <span class="va">var</span>,</span>
<span>      y <span class="op">=</span> <span class="st">"Count"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-18-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-18-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="op">=</span> [<span class="st">"cdn_usage"</span>, <span class="st">"request_complexity"</span>, <span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span>]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> categorical_vars:</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    sns.countplot(</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>var,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>data,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span>var,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        palette<span class="op">=</span><span class="st">"pastel"</span>,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="va">False</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f"</span><span class="sc">{</span>var<span class="sc">.</span>replace(<span class="st">'_'</span>, <span class="st">' '</span>)<span class="sc">.</span>title()<span class="sc">}</span><span class="ss"> Distribution"</span>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(var.replace(<span class="st">"_"</span>, <span class="st">" "</span>).title())</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: xlabel='cdn_usage', ylabel='count'&gt;
Text(0.5, 1.0, 'Cdn Usage Distribution')
Text(0.5, 0, 'Cdn Usage')
Text(0, 0.5, 'Count')
([0, 1], [Text(0, 0, 'Yes'), Text(1, 0, 'No')])
&lt;Axes: xlabel='request_complexity', ylabel='count'&gt;
Text(0.5, 1.0, 'Request Complexity Distribution')
Text(0.5, 0, 'Request Complexity')
Text(0, 0.5, 'Count')
([0, 1, 2], [Text(0, 0, 'Moderate'), Text(1, 0, 'Complex'), Text(2, 0, 'Simple')])
&lt;Axes: xlabel='day_of_week', ylabel='count'&gt;
Text(0.5, 1.0, 'Day Of Week Distribution')
Text(0.5, 0, 'Day Of Week')
Text(0, 0.5, 'Count')
([0, 1, 2, 3, 4, 5, 6], [Text(0, 0, 'Saturday'), Text(1, 0, 'Thursday'), Text(2, 0, 'Monday'), Text(3, 0, 'Friday'), Text(4, 0, 'Tuesday'), Text(5, 0, 'Wednesday'), Text(6, 0, 'Sunday')])
&lt;Axes: xlabel='geographic_region', ylabel='count'&gt;
Text(0.5, 1.0, 'Geographic Region Distribution')
Text(0.5, 0, 'Geographic Region')
Text(0, 0.5, 'Count')
([0, 1, 2, 3, 4], [Text(0, 0, 'North_America'), Text(1, 0, 'Africa'), Text(2, 0, 'South_America'), Text(3, 0, 'Europe'), Text(4, 0, 'Asia_Pacific')])</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-19-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-19-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>By examining these distributions, we can ensure that each category has enough observations to be meaningfully included in the model. If a category is rarely observed, it may need to be combined with others or omitted.</p>
</section><section id="numerical-variables" class="level4"><h4 class="anchored" data-anchor-id="numerical-variables">Numerical Variables</h4>
<p>Next, we examine the distributions of the continuous predictors to understand their range, shape, and potential skewness.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">continuous_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"concurrent_users"</span>, <span class="st">"database_queries"</span>, <span class="st">"cache_hit_rate"</span>,</span>
<span>  <span class="st">"server_load"</span>, <span class="st">"memory_usage"</span>, <span class="st">"time_of_day"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">var</span> <span class="kw">in</span> <span class="va">continuous_vars</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">10</span>, fill <span class="op">=</span> <span class="st">"cornflowerblue"</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Distribution of"</span>, <span class="va">var</span><span class="op">)</span>,</span>
<span>      x <span class="op">=</span> <span class="va">var</span>,</span>
<span>      y <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-20-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>continuous_vars <span class="op">=</span> [<span class="st">"concurrent_users"</span>, <span class="st">"database_queries"</span>, <span class="st">"cache_hit_rate"</span>, <span class="st">"server_load"</span>, <span class="st">"memory_usage"</span>, <span class="st">"time_of_day"</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> continuous_vars:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    sns.histplot(data[var], bins<span class="op">=</span><span class="dv">10</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"cornflowerblue"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f"Distribution of </span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(var)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-21-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>As we can see from the histograms, nothing appears too concerning. Both <code>concurrent_users</code> and <code>database_queries</code> show clear right-skewness, while the remaining continuous variables have more uniform or evenly spread distributions. memory_usage shows a lower count in its final (largest) bin, but this pattern is not unusual and does not raise any major concerns for our analysis.</p>
</section></section><section id="visualizing-predictor-relationships-to-response" class="level3" data-number="4.9.3"><h3 data-number="4.9.3" class="anchored" data-anchor-id="visualizing-predictor-relationships-to-response">
<span class="header-section-number">4.9.3</span> Visualizing Predictor Relationships to Response</h3>
<p>Having explored the univariate distributions, we can now turn to bivariate visualizations to examine how each predictor relates to the response.</p>
<section id="categorical-predictors-vs.-response" class="level4"><h4 class="anchored" data-anchor-id="categorical-predictors-vs.-response">Categorical Predictors vs.&nbsp;Response</h4>
<p>For categorical predictors, box plots provide a clear and effective way to visualize how response times vary across different groups.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">categorical_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cdn_usage"</span>, <span class="st">"request_complexity"</span>, <span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">var</span> <span class="kw">in</span> <span class="va">categorical_vars</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span>, y <span class="op">=</span> <span class="va">response_time_ms</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Response Time by"</span>, <span class="va">var</span><span class="op">)</span>,</span>
<span>      x <span class="op">=</span> <span class="va">var</span>,</span>
<span>      y <span class="op">=</span> <span class="st">"Response Time (ms)"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_R-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_R-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_R-15.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_R-16.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> [<span class="st">"cdn_usage"</span>, <span class="st">"request_complexity"</span>, <span class="st">"day_of_week"</span>, <span class="st">"geographic_region"</span>]:</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>var,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"response_time_ms"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>data,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span>var,         <span class="co"># required if using palette</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        palette<span class="op">=</span><span class="st">"Set3"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        dodge<span class="op">=</span><span class="va">False</span>      <span class="co"># keep single box per category</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    plt.legend([], [], frameon<span class="op">=</span><span class="va">False</span>)  <span class="co"># hide duplicated legend</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f"Response Time by </span><span class="sc">{</span>var<span class="sc">.</span>replace(<span class="st">'_'</span>, <span class="st">' '</span>)<span class="sc">.</span>title()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(var.replace(<span class="st">'_'</span>, <span class="st">' '</span>).title())</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Response Time (ms)"</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: xlabel='cdn_usage', ylabel='response_time_ms'&gt;
&lt;matplotlib.legend.Legend object at 0x155b34d10&gt;
Text(0.5, 1.0, 'Response Time by Cdn Usage')
Text(0.5, 0, 'Cdn Usage')
Text(0, 0.5, 'Response Time (ms)')
([0, 1], [Text(0, 0, 'Yes'), Text(1, 0, 'No')])
&lt;Axes: xlabel='request_complexity', ylabel='response_time_ms'&gt;
&lt;matplotlib.legend.Legend object at 0x155c129d0&gt;
Text(0.5, 1.0, 'Response Time by Request Complexity')
Text(0.5, 0, 'Request Complexity')
Text(0, 0.5, 'Response Time (ms)')
([0, 1, 2], [Text(0, 0, 'Moderate'), Text(1, 0, 'Complex'), Text(2, 0, 'Simple')])
&lt;Axes: xlabel='day_of_week', ylabel='response_time_ms'&gt;
&lt;matplotlib.legend.Legend object at 0x155d2f510&gt;
Text(0.5, 1.0, 'Response Time by Day Of Week')
Text(0.5, 0, 'Day Of Week')
Text(0, 0.5, 'Response Time (ms)')
([0, 1, 2, 3, 4, 5, 6], [Text(0, 0, 'Saturday'), Text(1, 0, 'Thursday'), Text(2, 0, 'Monday'), Text(3, 0, 'Friday'), Text(4, 0, 'Tuesday'), Text(5, 0, 'Wednesday'), Text(6, 0, 'Sunday')])
&lt;Axes: xlabel='geographic_region', ylabel='response_time_ms'&gt;
&lt;matplotlib.legend.Legend object at 0x155c5b550&gt;
Text(0.5, 1.0, 'Response Time by Geographic Region')
Text(0.5, 0, 'Geographic Region')
Text(0, 0.5, 'Response Time (ms)')
([0, 1, 2, 3, 4], [Text(0, 0, 'North_America'), Text(1, 0, 'Africa'), Text(2, 0, 'South_America'), Text(3, 0, 'Europe'), Text(4, 0, 'Asia_Pacific')])</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_Python-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_Python-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_Python-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/categorical_to_response_Python-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>These box plots help us assess whether server response times differ meaningfully across categories. From these visualizations, <code>request_complexity</code> appears to have a noticeable impact on <code>response_time_ms</code>. At this stage, this is an educated guess based on patterns in the plots, but we’ll need statistical modeling to confirm whether the differences are truly meaningful. Apparent differences in the box plots could simply be due to random variation, limited sample size in certain groups, or interactions with other predictors.</p>
</section><section id="continuous-predictors-vs.-response" class="level4"><h4 class="anchored" data-anchor-id="continuous-predictors-vs.-response">Continuous Predictors vs.&nbsp;Response</h4>
<p>For continuous predictors, scatterplots provide a clear view of how each variable is associated with the response.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">continuous_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"concurrent_users"</span>, <span class="st">"database_queries"</span>, <span class="st">"cache_hit_rate"</span>,</span>
<span>  <span class="st">"server_load"</span>, <span class="st">"memory_usage"</span>, <span class="st">"time_of_day"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">var</span> <span class="kw">in</span> <span class="va">continuous_vars</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gamma_server</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span>, y <span class="op">=</span> <span class="va">response_time_ms</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"#008080"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">var</span>, <span class="st">"vs. Response Time"</span><span class="op">)</span>,</span>
<span>      x <span class="op">=</span> <span class="va">var</span>,</span>
<span>      y <span class="op">=</span> <span class="st">"Response Time (ms)"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_R-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> [<span class="st">"concurrent_users"</span>, <span class="st">"database_queries"</span>, <span class="st">"cache_hit_rate"</span>, <span class="st">"server_load"</span>, <span class="st">"memory_usage"</span>, <span class="st">"time_of_day"</span>]:</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    sns.scatterplot(x<span class="op">=</span>var, y<span class="op">=</span><span class="st">"response_time_ms"</span>, data<span class="op">=</span>data, color<span class="op">=</span><span class="st">"teal"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    sns.regplot(x<span class="op">=</span>var, y<span class="op">=</span><span class="st">"response_time_ms"</span>, data<span class="op">=</span>data, scatter<span class="op">=</span><span class="va">False</span>, color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f"</span><span class="sc">{</span>var<span class="sc">.</span>replace(<span class="st">'_'</span>, <span class="st">' '</span>)<span class="sc">.</span>title()<span class="sc">}</span><span class="ss"> vs. Response Time"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(var.replace(<span class="st">'_'</span>, <span class="st">' '</span>).title())</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Response Time (ms)"</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/numerical_to_response_Python-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>These plots help reveal trends or patterns that might inform the model structure, such as the need for transformations or interaction terms. In our case, however, none of the scatterplots show a particularly strong or obvious pattern that would suggest immediate adjustments. This is not unusual when working with skewed outcomes like response times: relationships may become clearer only after applying the link function (e.g., the log link in Gamma regression) or after controlling for multiple predictors simultaneously.</p>
</section></section><section id="key-takeaways-from-eda" class="level3" data-number="4.9.4"><h3 data-number="4.9.4" class="anchored" data-anchor-id="key-takeaways-from-eda">
<span class="header-section-number">4.9.4</span> Key Takeaways from EDA</h3>
<p>From our exploratory analysis, we can make a few early observations:</p>
<ul>
<li>The response variable (<code>response_time_ms</code>) is strictly positive and right-skewed, making Gamma regression an appropriate choice.</li>
<li>Most requests come from North America, while Africa and South America have relatively fewer entries.</li>
<li>The <code>concurrent_users</code> variable is also right-skewed, indicating that most requests happen under low to moderate user load, but some occur under heavy load.</li>
<li>Complex requests tend to have higher response times on average, as seen in the boxplots.</li>
</ul>
<p>These patterns help us understand the structure of the data and form preliminary hypotheses about which factors may influence response time. Keep these observations in mind. We’ll soon see whether the Gamma regression model reinforces or challenges them.</p>
<div class="Tip">
<div class="Tip-header">
<p>Tip</p>
</div>
<div class="Tip-container">
<p>EDA is meant to explore patterns, not confirm conclusions. While these insights help guide model building, we should wait until after model fitting and diagnostics before making final interpretations.</p>
</div>
</div>
</section></section><section id="data-modeling" class="level2" data-number="4.10"><h2 data-number="4.10" class="anchored" data-anchor-id="data-modeling">
<span class="header-section-number">4.10</span> Data Modeling</h2>
<p>After conducting Exploratory Data Analysis (EDA), we now move into the modeling stage, where we apply a statistical model to better understand how different factors influence server response times.</p>
<section id="choosing-a-suitable-regression-model" class="level3" data-number="4.10.1"><h3 data-number="4.10.1" class="anchored" data-anchor-id="choosing-a-suitable-regression-model">
<span class="header-section-number">4.10.1</span> Choosing a Suitable Regression Model</h3>
<p>The choice of regression model depends on both the nature of the response variable and the goal of the analysis. In our case:</p>
<ul>
<li>The response variable, <code>response_time_ms</code>, is continuous, strictly positive, and right-skewed.</li>
<li>The goal is to explain which factors influence the average response time, not to predict future outcomes.</li>
</ul>
<p>Given these characteristics, a Gamma regression model with a log link is appropriate. While we had a sense of this at the beginning, the decision is best made after examining the data and understanding its distribution and structure. Once the exploratory analysis confirms positivity and skewness, Gamma regression becomes a natural choice.</p>
<p>Gamma regression allows us to:</p>
<ul>
<li>model the response in its original (positive-only) scale,</li>
<li>handle right-skewed data,</li>
<li>and interpret results in terms of multiplicative changes in the mean response.</li>
</ul>
<p>In contrast, Ordinary Least Squares (OLS) assumes constant variance and symmetry around the mean, assumptions that clearly do not hold in this dataset. This makes Gamma regression a more suitable and robust option for our analysis.</p>
</section><section id="defining-modeling-parameters" class="level3" data-number="4.10.2"><h3 data-number="4.10.2" class="anchored" data-anchor-id="defining-modeling-parameters">
<span class="header-section-number">4.10.2</span> Defining Modeling Parameters</h3>
<p>With the model selected, our next step is to specify the variables that will go into the equation. In this analysis, we use all available predictors. Together, these variables capture a mix of technical metrics (e.g., server load, memory usage), behavioral context (e.g., request complexity, time of day), and infrastructure details (e.g., CDN usage, geographic region). Using the full set of variables provides a well-rounded view of the factors that may influence response time. Therefore, we will include all predictors in the model.</p>
</section><section id="setting-up-the-modeling-equation" class="level3" data-number="4.10.3"><h3 data-number="4.10.3" class="anchored" data-anchor-id="setting-up-the-modeling-equation">
<span class="header-section-number">4.10.3</span> Setting Up the Modeling Equation</h3>
<p>By including all predictors in the Gamma regression, we arrive at the following model equation. This equation represents the log of the average response time as a linear function of the predictors.</p>
<div style="overflow-x: auto; white-space: nowrap;">
<p><span class="math display">\[
\begin{align*}
\log(\mu_i) &amp;= \beta_0 \\
&amp;\quad + \beta_1 \times \text{concurrent\_users}_i \\
&amp;\quad + \beta_2 \times \text{database\_queries}_i \\
&amp;\quad + \beta_3 \times \text{cache\_hit\_rate}_i \\
&amp;\quad + \beta_4 \times \text{server\_load}_i \\
&amp;\quad + \beta_5 \times \text{memory\_usage}_i \\
&amp;\quad + \beta_6 \times \text{time\_of\_day}_i \\
&amp;\quad + \beta_7 \times \text{cdn\_usage}_i \\
&amp;\quad + \beta_8 \times \text{request\_complexity}_i \\
&amp;\quad + \beta_9 \times \text{day\_of\_week}_i \\
&amp;\quad + \beta_{10} \times \text{geographic\_region}_i
\end{align*}
\]</span></p>
</div>
<p>The beauty of mathematics is that we can then back-transform the predicted value from the log scale using the exponential function:</p>
<p><span class="math display">\[
\mu_i = \exp(\text{linear combination of predictors})
\]</span></p>
<p>where:</p>
<ul>
<li>
<span class="math inline">\(\mu_i\)</span> is the expected average response time for the <span class="math inline">\(i\)</span>-th request<br>
</li>
<li>
<span class="math inline">\(\beta_0\)</span> is the intercept<br>
</li>
<li>
<span class="math inline">\(\beta_1, \beta_2, \ldots \beta_{10}\)</span> are the coefficients for each predictor</li>
</ul>
<p>This means that each coefficient (<span class="math inline">\(\beta_n\)</span>) describes the <strong>multiplicative effect</strong> on the mean response time:</p>
<ul>
<li>
<span class="math inline">\(\beta_1\)</span>: How response time changes as the number of concurrent users increases<br>
</li>
<li>
<span class="math inline">\(\beta_7\)</span>: The impact of CDN usage versus not using a CDN<br>
</li>
<li>
<span class="math inline">\(\beta_8\)</span>: How request complexity levels (Moderate or Simple) compare to the base level (Complex)<br>
</li>
<li>
<span class="math inline">\(\beta_{10}\)</span>: Regional differences in server response behavior</li>
</ul>
<p>This model structure allows us to capture both technical and contextual effects on server performance using a regression framework suited for positive and skewed outcomes.</p>
</section></section><section id="estimation" class="level2" data-number="4.11"><h2 data-number="4.11" class="anchored" data-anchor-id="estimation">
<span class="header-section-number">4.11</span> Estimation</h2>
<p>With the data modeling stage completed, we now move on to estimation, where we actually fit the Gamma regression model to the data and obtain numerical estimates for each coefficient. These estimates allow us to quantify how each predictor influences the average server response time under the specified model.</p>
<div class="Tip">
<div class="Tip-header">
<p>How Gamma Regression Is Fit</p>
</div>
<div class="Tip-container">
<p>Unlike OLS, which minimizes squared errors, Gamma regression relies on <strong>maximum likelihood estimation</strong> (<strong>MLE</strong>). MLE is more appropriate when the outcome is strictly positive and right-skewed, as it takes into account the distributional assumptions of the Gamma model.</p>
</div>
</div>
<section id="fitting-the-model" class="level3" data-number="4.11.1"><h3 data-number="4.11.1" class="anchored" data-anchor-id="fitting-the-model">
<span class="header-section-number">4.11.1</span> Fitting the Model</h3>
<p>In R, you can use the <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code> function with <code>family = Gamma(link = "log")</code>. In Python, we use <code>statsmodels</code> with the Gamma family and log link:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load required library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fit Gamma regression model</span></span>
<span><span class="va">gamma_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span></span>
<span>  <span class="va">response_time_ms</span> <span class="op">~</span> <span class="va">concurrent_users</span> <span class="op">+</span> <span class="va">database_queries</span> <span class="op">+</span> <span class="va">cache_hit_rate</span> <span class="op">+</span></span>
<span>    <span class="va">server_load</span> <span class="op">+</span> <span class="va">time_of_day</span> <span class="op">+</span> <span class="va">memory_usage</span> <span class="op">+</span></span>
<span>    <span class="va">day_of_week_Monday</span> <span class="op">+</span> <span class="va">day_of_week_Saturday</span> <span class="op">+</span> <span class="va">day_of_week_Sunday</span> <span class="op">+</span></span>
<span>    <span class="va">day_of_week_Thursday</span> <span class="op">+</span> <span class="va">day_of_week_Tuesday</span> <span class="op">+</span> <span class="va">day_of_week_Wednesday</span> <span class="op">+</span></span>
<span>    <span class="va">geographic_region_Asia_Pacific</span> <span class="op">+</span> <span class="va">geographic_region_Europe</span> <span class="op">+</span></span>
<span>    <span class="va">geographic_region_North_America</span> <span class="op">+</span> <span class="va">geographic_region_South_America</span> <span class="op">+</span></span>
<span>    <span class="va">request_complexity_Moderate</span> <span class="op">+</span> <span class="va">request_complexity_Simple</span> <span class="op">+</span></span>
<span>    <span class="va">cdn_usage_Yes</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">Gamma</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"log"</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">gamma_server_encoded</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display model summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gamma_model</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = response_time_ms ~ concurrent_users + database_queries + 
    cache_hit_rate + server_load + time_of_day + memory_usage + 
    day_of_week_Monday + day_of_week_Saturday + day_of_week_Sunday + 
    day_of_week_Thursday + day_of_week_Tuesday + day_of_week_Wednesday + 
    geographic_region_Asia_Pacific + geographic_region_Europe + 
    geographic_region_North_America + geographic_region_South_America + 
    request_complexity_Moderate + request_complexity_Simple + 
    cdn_usage_Yes, family = Gamma(link = "log"), data = gamma_server_encoded)

Coefficients:
                                  Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                      4.7603924  0.1971945  24.141  &lt; 2e-16 ***
concurrent_users                 0.0029522  0.0002651  11.134  &lt; 2e-16 ***
database_queries                 0.0737204  0.0045095  16.348  &lt; 2e-16 ***
cache_hit_rate                  -0.0192125  0.0012367 -15.536  &lt; 2e-16 ***
server_load                      0.0171491  0.0010331  16.599  &lt; 2e-16 ***
time_of_day                      0.0020302  0.0035487   0.572  0.56740    
memory_usage                     0.0096178  0.0012127   7.931 5.91e-15 ***
day_of_week_Monday              -0.0353228  0.0908594  -0.389  0.69754    
day_of_week_Saturday            -0.1781832  0.0968001  -1.841  0.06596 .  
day_of_week_Sunday              -0.2334680  0.0954806  -2.445  0.01465 *  
day_of_week_Thursday            -0.1025488  0.0899490  -1.140  0.25453    
day_of_week_Tuesday              0.0298651  0.0932648   0.320  0.74887    
day_of_week_Wednesday           -0.0845206  0.0909808  -0.929  0.35312    
geographic_region_Asia_Pacific  -0.3520001  0.1261621  -2.790  0.00537 ** 
geographic_region_Europe        -0.5514433  0.1226661  -4.495 7.77e-06 ***
geographic_region_North_America -0.7498536  0.1193010  -6.285 4.91e-10 ***
geographic_region_South_America -0.1160509  0.1385021  -0.838  0.40229    
request_complexity_Moderate     -0.5889707  0.0797133  -7.389 3.17e-13 ***
request_complexity_Simple       -1.3210568  0.0768739 -17.185  &lt; 2e-16 ***
cdn_usage_Yes                   -0.3824307  0.0542098  -7.055 3.27e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for Gamma family taken to be 0.6007392)

    Null deviance: 1447.44  on 999  degrees of freedom
Residual deviance:  565.82  on 980  degrees of freedom
AIC: 10028

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit Gamma regression model using log link</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>gamma_model <span class="op">=</span> smf.glm(</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    formula<span class="op">=</span><span class="st">"""</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="st">        response_time_ms ~ concurrent_users + database_queries + cache_hit_rate +</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="st">        server_load + time_of_day + memory_usage +</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="st">        day_of_week_Monday + day_of_week_Saturday + day_of_week_Sunday +</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="st">        day_of_week_Thursday + day_of_week_Tuesday + day_of_week_Wednesday +</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="st">        geographic_region_Asia_Pacific + geographic_region_Europe +</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="st">        geographic_region_North_America + geographic_region_South_America +</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="st">        request_complexity_Moderate + request_complexity_Simple +</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="st">        cdn_usage_Yes</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>data_encoded,</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>    family<span class="op">=</span>sm.families.Gamma(link<span class="op">=</span>sm.families.links.log())</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/alexi/Library/Caches/org.R-project.R/R/reticulate/uv/cache/archive-v0/9Inoul8SNCRkiWJj10t6A/lib/python3.11/site-packages/statsmodels/genmod/families/links.py:13: FutureWarning: The log link alias is deprecated. Use Log instead. The log link alias will be removed after the 0.15.0 release.
  warnings.warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display model summary</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gamma_model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Generalized Linear Model Regression Results                  
==============================================================================
Dep. Variable:       response_time_ms   No. Observations:                 1000
Model:                            GLM   Df Residuals:                      980
Model Family:                   Gamma   Df Model:                           19
Link Function:                    log   Scale:                         0.60074
Method:                          IRLS   Log-Likelihood:                -4996.9
Date:                Mon, 09 Feb 2026   Deviance:                       565.82
Time:                        14:26:50   Pearson chi2:                     589.
No. Iterations:                    17   Pseudo R-squ. (CS):             0.7695
Covariance Type:            nonrobust                                         
===========================================================================================================
                                              coef    std err          z      P&gt;|z|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------------
Intercept                                   4.7604      0.197     24.140      0.000       4.374       5.147
day_of_week_Monday[T.True]                 -0.0353      0.091     -0.389      0.697      -0.213       0.143
day_of_week_Saturday[T.True]               -0.1782      0.097     -1.841      0.066      -0.368       0.012
day_of_week_Sunday[T.True]                 -0.2335      0.095     -2.445      0.014      -0.421      -0.046
day_of_week_Thursday[T.True]               -0.1026      0.090     -1.140      0.254      -0.279       0.074
day_of_week_Tuesday[T.True]                 0.0299      0.093      0.320      0.749      -0.153       0.213
day_of_week_Wednesday[T.True]              -0.0845      0.091     -0.929      0.353      -0.263       0.094
geographic_region_Asia_Pacific[T.True]     -0.3520      0.126     -2.790      0.005      -0.599      -0.105
geographic_region_Europe[T.True]           -0.5514      0.123     -4.495      0.000      -0.792      -0.311
geographic_region_North_America[T.True]    -0.7499      0.119     -6.285      0.000      -0.984      -0.516
geographic_region_South_America[T.True]    -0.1161      0.139     -0.838      0.402      -0.388       0.155
request_complexity_Moderate[T.True]        -0.5890      0.080     -7.389      0.000      -0.745      -0.433
request_complexity_Simple[T.True]          -1.3211      0.077    -17.185      0.000      -1.472      -1.170
cdn_usage_Yes[T.True]                      -0.3824      0.054     -7.055      0.000      -0.489      -0.276
concurrent_users                            0.0030      0.000     11.134      0.000       0.002       0.003
database_queries                            0.0737      0.005     16.348      0.000       0.065       0.083
cache_hit_rate                             -0.0192      0.001    -15.536      0.000      -0.022      -0.017
server_load                                 0.0171      0.001     16.599      0.000       0.015       0.019
time_of_day                                 0.0020      0.004      0.572      0.567      -0.005       0.009
memory_usage                                0.0096      0.001      7.931      0.000       0.007       0.012
===========================================================================================================</code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="interpreting-the-coefficients" class="level3" data-number="4.11.2"><h3 data-number="4.11.2" class="anchored" data-anchor-id="interpreting-the-coefficients">
<span class="header-section-number">4.11.2</span> Interpreting the Coefficients</h3>
<p>The modelling was a success! Based on our estimates, the fitted equation is as follow:</p>
<div style="overflow-x: auto; white-space: nowrap;">
<p><span class="math display">\[
\begin{align*}
\log(\mu) &amp;= 5.85 \\
&amp;\quad + 0.276 \times \text{concurrent\_users} \\
&amp;\quad + 0.407 \times \text{database\_queries} \\
&amp;\quad - 0.384 \times \text{cache\_hit\_rate} \\
&amp;\quad + 0.411 \times \text{server\_load} \\
&amp;\quad + 0.197 \times \text{memory\_usage} \\
&amp;\quad + \cdots \\
&amp;\quad - 0.116 \times \text{geographic\_region\_South\_America}
\end{align*}
\]</span></p>
</div>
</section></section><section id="goodness-of-fit" class="level2" data-number="4.12"><h2 data-number="4.12" class="anchored" data-anchor-id="goodness-of-fit">
<span class="header-section-number">4.12</span> Goodness of Fit</h2>
<p>All of the numbers above look encouraging, but it’s important to make sure they are reliable. Before drawing conclusions, we need to check whether the model has successfully captured the main patterns in the data, or whether it’s missing something important. This brings us to the next stage: goodness of fit, where we evaluate how well the Gamma regression model represents the underlying data.</p>
<section id="deviance-residuals-vs.-fitted-values" class="level3" data-number="4.12.1"><h3 data-number="4.12.1" class="anchored" data-anchor-id="deviance-residuals-vs.-fitted-values">
<span class="header-section-number">4.12.1</span> Deviance Residuals vs.&nbsp;Fitted Values</h3>
<p>In generalized linear models like Gamma regression, we use something called deviance residuals to examine goodness of fit. These are special residuals that account for the type of model we’re using. They’re designed to help us detect if the model is systematically making mistakes.</p>
<div id="Definition-sample" class="definition">
<div class="definition-header">
<p>Definition of Deviance Residual</p>
</div>
<div class="definition-container">
<p>Deviance Residuals measure how far each observation is from what the model expects, using the correct distribution (in this case, the Gamma distribution). You can think of it as:</p>
<blockquote class="blockquote">
<p>A standardized measure of “how surprising” each data point is under the fitted model.</p>
</blockquote>
<p>Some key points:</p>
<ul>
<li>Deviance residuals are always centered around zero.</li>
<li>Large positive or negative values indicate observations the model struggles to fit.</li>
<li>Patterns in a residual–fitted plot can reveal model misspecification (e.g., wrong link function, missing predictors, nonlinear relationships).</li>
</ul>
</div>
</div>
<p>Below is a plot of deviance residuals against the model’s fitted values (the predicted average response time for each observation):</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Python Code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Plot deviance residuals vs fitted values</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">gamma_model</span><span class="op">$</span><span class="va">fitted.values</span>, <span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">residuals</a></span><span class="op">(</span><span class="va">gamma_model</span>, type <span class="op">=</span> <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Deviance Residuals vs Fitted Values"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Fitted Values"</span>,</span>
<span>     ylab <span class="op">=</span> <span class="st">"Deviance Residuals"</span>,</span>
<span>     pch <span class="op">=</span> <span class="fl">19</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fitted values and deviance residuals</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>fitted_values <span class="op">=</span> gamma_model.fittedvalues</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>deviance_residuals <span class="op">=</span> gamma_model.resid_deviance</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>plt.scatter(fitted_values, deviance_residuals, color<span class="op">=</span><span class="st">"blue"</span>, s<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>plt.axhline(<span class="dv">0</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Deviance Residuals vs Fitted Values"</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Fitted Values"</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Deviance Residuals"</span>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="04-gamma_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>In a well-fitting model, we expect the deviance residuals to be centered around zero, without any noticeable patterns or trends, and to be spread out fairly evenly across the range of fitted values. When we look at this plot, it meets these expectations quite well.</p>
<div class="Tip">
<div class="Tip-header">
<p>Why the Spread Looks Flat</p>
</div>
<div class="Tip-container">
<p>You might expect residuals to spread out more as the predicted value increases, especially in a Gamma model, where variance increases with the mean. But remember: deviance residuals have already been scaled to account for that.</p>
<p>That’s why the spread of points looks more even instead of fanning outward. This is actually a good sign. It tells us the model is appropriately handling the increasing variability.</p>
</div>
</div>
</section><section id="deviance-and-aic" class="level3" data-number="4.12.2"><h3 data-number="4.12.2" class="anchored" data-anchor-id="deviance-and-aic">
<span class="header-section-number">4.12.2</span> Deviance and AIC</h3>
<p>The deviance residual plot helps us see whether individual observations behave as the model expects. However, residuals only tell part of the story. They show where the model fits well or poorly, but not how well the model fits overall.</p>
<p>To assess overall model quality, we turn to model-level deviance, which summarizes the total remaining error after fitting the Gamma regression.</p>
<section id="residual-deviance" class="level4"><h4 class="anchored" data-anchor-id="residual-deviance">Residual Deviance</h4>
<p>In linear regression, we often use the sum of squared errors to summarize model fit. In Gamma regression, an analogous measure is deviance, which quantifies the discrepancy between the model and the observed data in a way appropriate for the Gamma distribution.</p>
<p>There are two key deviance values:</p>
<ul>
<li>
<strong>Null deviance</strong> is the error from a model that uses only the overall mean response time.</li>
<li>
<strong>Residual deviance</strong> is the error remaining after fitting the Gamma regression with all predictors included.</li>
</ul>
<p>We also compare this to the <strong>null deviance</strong>, which is the error you’d get if the model only used the overall average and ignored all predictors.</p>
<p>Here are the values from our analysis:</p>
<ul>
<li>
<strong>Null deviance</strong>: 1447.44<br>
</li>
<li>
<strong>Residual deviance</strong>: 565.82</li>
</ul>
<p>The large drop from the null deviance to the residual deviance indicates that our predictors substantially improve the model’s ability to explain variation in response time.</p>
</section><section id="aic-akaike-information-criterion" class="level4"><h4 class="anchored" data-anchor-id="aic-akaike-information-criterion">AIC (Akaike Information Criterion)</h4>
<p>Another useful summary statistic is the Akaike Information Criterion (AIC). You can think of AIC as a score that balances two goals:</p>
<ul>
<li>How well the model fits the data<br>
</li>
<li>How simple the model is (fewer predictors = simpler)</li>
</ul>
<p>A lower AIC indicates a better overall balance between fit and complexity. Our model’s AIC is:</p>
<ul>
<li>
<strong>AIC</strong>: 10028</li>
</ul>
<p>This number isn’t very informative on its own. It becomes meaningful when we compare it to the AIC of alternative models (for example, a model with fewer predictors or a different link function). In such comparisons, the model with the lower AIC is preferred, because it captures the data more efficiently without unnecessary complexity.</p>
</section></section></section><section id="results" class="level2" data-number="4.13"><h2 data-number="4.13" class="anchored" data-anchor-id="results">
<span class="header-section-number">4.13</span> Results</h2>
<p>With the goodness-of-fit checks completed, we can be reasonably confident that our model provides a reliable representation of the data. Now we can return to our original question:</p>
<blockquote class="blockquote">
<p>What factors influence the average response time of a server?</p>
</blockquote>
<p>Before interpreting the coefficients, remember that we used a Gamma regression with a log link. This means that, unlike ordinary least squares, coefficients operate multiplicatively on the original scale: a one-unit change in a predictor corresponds to a percentage change in the expected response time, holding all other variables constant.</p>
<section id="statistically-significant-predictors" class="level3" data-number="4.13.1"><h3 data-number="4.13.1" class="anchored" data-anchor-id="statistically-significant-predictors">
<span class="header-section-number">4.13.1</span> Statistically Significant Predictors</h3>
<p>Several predictors in our model have p-values less than 0.05, which means there is strong statistical evidence that they influence average server response time:</p>
<ul>
<li><p>Concurrent users: The coefficient is 0.276. This means for each additional concurrent user, the expected response time increases by a factor of <span class="math inline">\(e^{0.276} \approx 1.32\)</span>, or 32%. This is a substantial increase.</p></li>
<li><p>Database queries: With a coefficient of 0.407, each additional database query increases the response time by a factor of <span class="math inline">\(e^{0.407} \approx 1.50\)</span>, or 50%. More queries mean heavier processing load.</p></li>
<li><p>Cache hit rate: The coefficient is <span class="math inline">\(-0.384\)</span>. This means that a one-unit increase in cache hit rate (e.g., from 60% to 61%) is associated with a decrease in response time by <span class="math inline">\(e^{-0.384} \approx 0.68\)</span>, or 32%.</p></li>
<li><p>Server load: The coefficient is 0.411. This corresponds to a 50.9% increase in response time per unit increase in server load (<span class="math inline">\(e^{0.411} \approx 1.51\)</span>), which aligns with intuition.</p></li>
<li><p>Memory usage: This has a positive coefficient of 0.197. Each unit increase in memory usage increases expected response time by <span class="math inline">\(e^{0.197} \approx 1.22\)</span>, or 22%.</p></li>
<li><p>CDN usage: The coefficient is <span class="math inline">\(-0.382\)</span>. Using a content delivery network is associated with a 31.8% decrease in expected response time (<span class="math inline">\(e^{-0.382} \approx 0.68\)</span>).</p></li>
<li><p>Request complexity (Moderate and Simple): Compared to complex requests, moderate requests reduce response time by about 44.7% (<span class="math inline">\(e^{-0.589} \approx 0.55\)</span>), and simple requests reduce it by about 73.4% (<span class="math inline">\(e^{-1.321} \approx 0.27\)</span>).</p></li>
<li><p>Geographic region: Requests from Asia Pacific, Europe, and North America all show significantly shorter response times compared to the reference region. For example, the coefficient for North America is <span class="math inline">\(-0.750\)</span>, meaning a 52.8% shorter response time on average (<span class="math inline">\(e^{-0.750} \approx 0.47\)</span>).</p></li>
</ul></section><section id="non-significant-predictors" class="level3" data-number="4.13.2"><h3 data-number="4.13.2" class="anchored" data-anchor-id="non-significant-predictors">
<span class="header-section-number">4.13.2</span> Non-Significant Predictors</h3>
<p>The following predictors have p-values greater than 0.05 and are not statistically significant in this model:</p>
<ul>
<li><p>Time of day: This does not appear to have a measurable effect on response time.</p></li>
<li><p>Day of week: Most weekday indicators are not significant, suggesting that response time is consistent across the week.</p></li>
<li><p>South America: The coefficient is small and the p-value is high, indicating no strong evidence of different response times compared to the baseline region.</p></li>
</ul>
<p>These variables might still play a role in different datasets or under different modeling assumptions, but here they do not provide strong enough evidence to conclude an effect.</p>
<div class="Tip">
<div class="Tip-header">
<p>Interpretation Reminder</p>
</div>
<div class="Tip-container">
<p>These effects represent associations, not causal guarantees. They reflect average differences after adjusting for other predictors in the model. System-level performance is complex, and real-world behavior may involve interactions or nonlinearities not captured here.</p>
</div>
</div>
</section></section><section id="storytelling" class="level2" data-number="4.14"><h2 data-number="4.14" class="anchored" data-anchor-id="storytelling">
<span class="header-section-number">4.14</span> Storytelling</h2>
<p>Finally, to wrap up the workflow, the final step is to consider how the results can actually be used. This part of the workflow is often referred to as <strong>storytelling</strong>, where we connect the analysis back to practical decision-making.</p>
<p>The Gamma regression model highlights several factors that consistently influence server response times. Packaging these findings into insights helps different stakeholders like engineers, product teams, and managers make informed decisions. Below, we translate the model’s results into practical implications.</p>
<section id="key-insights-from-the-model" class="level3" data-number="4.14.1"><h3 data-number="4.14.1" class="anchored" data-anchor-id="key-insights-from-the-model">
<span class="header-section-number">4.14.1</span> Key Insights From the Model</h3>
<p>System load emerges as one of the strongest drivers of slower performance. Variables such as concurrent users, database queries, and server load all increase response time substantially, especially under peak conditions. These results suggest that heavy user traffic and complex queries consistently create processing bottlenecks. To mitigate these issues, teams should invest in more robust load balancing, optimize query performance, and refine autoscaling strategies to better accommodate traffic spikes.</p>
<p>Caching proves to be one of the most powerful levers for improving response times. Both cache hit rate and CDN usage lead to substantial reductions in latency, indicating that even small improvements in caching efficiency can have meaningful impact. Because CDNs also provide significant performance gains by serving content closer to users, teams should prioritize strengthening their caching strategy, expanding CDN coverage, and regularly monitoring cache effectiveness as a key performance metric.</p>
<p>Request complexity also plays a major role in determining speed, with simple and moderately complex requests completing far faster than complex ones. This implies that certain high-load endpoints may be doing unnecessary or overly expensive work. Refactoring these endpoints, breaking large operations into smaller components, or offloading intensive tasks to asynchronous, batched, or precomputed workflows can significantly improve overall responsiveness.</p>
<p>Finally, regional differences highlight potential network-level optimization opportunities. Regions such as North America, Europe, and Asia Pacific experience much faster response times than the baseline region, likely due to better routing or closer proximity to infrastructure. To improve performance for underserved regions, teams should consider deploying additional edge servers, optimizing routing paths, or enhancing regional infrastructure to reduce cross-region latency.</p>
</section></section><section id="conclusion" class="level2" data-number="4.15"><h2 data-number="4.15" class="anchored" data-anchor-id="conclusion">
<span class="header-section-number">4.15</span> Conclusion</h2>
<p>And that wraps up the entire data science workflow. By walking through a complete example from start to finish, we have seen how Gamma regression fits naturally into each stage of the process, from study design and exploratory analysis to modeling, diagnostics, and storytelling. This chapter showed how Gamma regression provides a principled way to model continuous, strictly positive, and right-skewed outcomes, and how it can transform raw data into meaningful insights.</p>
<p>Gamma regression is a powerful tool, but the workflow that surrounds it is even more important. Asking the right question, understanding the data, choosing an appropriate model, checking that the model fits well, and interpreting the results in context are the steps that make an analysis reliable and useful. With these ideas in place, you can confidently apply Gamma regression to real problems and guide decisions with evidence.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/alexrod61\.github\.io\/regression-cookbook\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://giscus.app/client.js" data-repo="alexrod61/regression-cookbook" data-repo-id="R_kgDOMSJoUA" data-category="General" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><input type="hidden" id="giscus-base-theme" value="light"><input type="hidden" id="giscus-alt-theme" value="dark"><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../book/03-ols.html" class="pagination-link" aria-label="Ordinary Least-squares Regression">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Ordinary Least-squares Regression</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../book/05-beta.html" class="pagination-link" aria-label="Beta Regression">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Beta Regression</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025; G. Alexi Rodríguez-Arelis, Andy Tai, and Ben Chen</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/alexrod61/regression-cookbook/edit/main/book/04-gamma.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/alexrod61/regression-cookbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/alexrod61/regression-cookbook/blob/main/book/04-gamma.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>