<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7PRVEBE1EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7PRVEBE1EF');
</script>

# Ordinary Least-squares {#sec-ols}

```{r}
#| include: false

colourize <- function(x, color) {
  if (knitr::is_latex_output()) {
    sprintf("\\textcolor{%s}{%s}", color, x)
  } else if (knitr::is_html_output()) {
    sprintf("<span style='color: %s;'>%s</span>", color,
      x)
  } else x
}
```

**Ordinary Least Squares (OLS)** is a foundational method in regression analysis that estimates the relationship between a dependent variable and one or more independent variables. At its core, OLS aims to minimize the difference, or "error," between the observed values and the values predicted by the model. It does this by finding the best-fitting line (or hyperplane in the case of multiple variables) that minimizes the sum of the squared differences between the observed and predicted values.

The importance of OLS lies in its simplicity, interpretability, and wide applicability. As one of the earliest and most widely used techniques in statistics and machine learning, OLS provides a straightforward approach to understanding how variables influence each other. In areas such as economics, biology, and social sciences, OLS has enabled researchers to model and quantify relationships, making it a powerful tool for both inference and prediction.

The usefulness of OLS extends beyond its ease of use. Its ability to provide clear parameter estimates—coefficients that describe the strength and direction of relationships between variables—makes it a valuable tool for decision-making. Whether predicting financial outcomes, assessing medical treatments, or understanding consumer behavior, OLS offers a framework for transforming raw data into actionable insights.

In this chapter, we will explore how OLS works, its assumptions, and how we can apply it to real-world data to solve problems, while also understanding its limitations. Through this, we aim to build a strong foundation in regression analysis that will serve as a stepping stone to more advanced techniques.

## Case Study: Understanding Financial Behaviors

Before we dive into the math behind Ordinary Least Squares (OLS), let's start by framing the problem we're trying to solve and the data we'll be working with. We’ll be using a toy dataset to understand the financial behaviors of students and identify the factors that influence their net money—the amount of money left over at the end of each month.

### The Dataset

In this case study, we have collected data on various aspects of students' financial lives. Each row in our dataset represents a single student, and the columns capture different characteristics of the student. Here's a breakdown of the variables:

| **Variable Name**         | **Description**                                                       |
|---------------------------|-----------------------------------------------------------------------|
| **Has_Job**               | Whether the student has a job (0 = No, 1 = Yes).                      |
| **Year_of_Study**         | The student’s current year of study (e.g., 1st year, 2nd year, etc.). |
| **Financially_Dependent** | Whether the student is financially dependent on someone else (0 = No, 1 = Yes). |
| **Monthly_Allowance**     | The amount of financial support the student receives each month.       |
| **Cooks_at_Home**         | Whether the student prepares their own meals (0 = No, 1 = Yes).        |
| **Living_Situation**      | The student's living arrangement (e.g., living with family, in a shared apartment, etc.). |
| **Housing_Type**          | The type of housing the student lives in (e.g., rented, owned, dormitory). |
| **Goes_Out_Spends_Money** | How frequently the student goes out and spends money (1 = rarely, 5 = very often). |
| **Drinks_Alcohol**        | Whether the student drinks alcohol (0 = No, 1 = Yes).                 |
| **Net_Money**             | The amount of money the student has left at the end of the month after income and expenses. |
| **Monthly_Earnings**      | The student’s earnings from any part-time jobs or other income sources. |

Here’s a sample of what the data looks like:

| **Has_Job** | **Year_of_Study** | **Financially_Dependent** | **Monthly_Allowance** | **Cooks_at_Home** | **Living_Situation** | **Housing_Type** | **Goes_Out_Spends_Money** | **Drinks_Alcohol** | **Net_Money** | **Monthly_Earnings** |
|-------------|--------------------|---------------------------|-----------------------|-------------------|----------------------|------------------|---------------------------|--------------------|---------------|----------------------|
| 0           | 1                  | 0                         | 658.99                | 0                 | 3                    | 1                | 6                           | 0                  | 529.34        | 0.00                 |
| 1           | 3                  | 0                         | 592.55                | 0                 | 3                    | 2                | 3                           | 1                  | 992.72        | 941.92               |
| 1           | 4                  | 1                         | 602.54                | 0                 | 2                    | 2                | 2                           | 1                  | 557.30        | 876.57               |

### The Problem We’re Trying to Solve

Our goal in this case study is to understand which factors impact a student’s Net Money. We’re interested in identifying which characteristics (like having a job, monthly earnings, or receiving financial support) explain why some students have more money left over at the end of the month than others.

The key question we want to answer is: Which factors have the biggest influence on how much net money a student has?

By analyzing this dataset using OLS, we can explore how each factor contributes to the variation in Net Money and quantify the relationships between them.

### Why This Matters

This case study is a simple but practical example of how regression analysis can be used to study financial behavior. In real-world situations, understanding such relationships can help individuals or institutions make informed decisions—like how much financial aid to offer or what type of part-time job is most effective for students.

By the end of this analysis, we’ll be able to:

- Identify which factors (like having a job or monthly earnings) most strongly affect students' net money.
- Estimate how much each factor contributes to changes in net money.
- Understand whether these relationships are statistically significant.

